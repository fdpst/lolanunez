import{r as G,I as cs,o as W,c as K,d as f,f as Re,z as We,b as _,av as la,e as k,F as ft,i as ht,y as ds,x as z,am as io,v as _e,a0 as ze,af as Fe,a6 as st,w as ra,ak as ia,aD as ua,n as je}from"./main-DXTHM_Z4.js";import{a as Ge}from"./api-CWHLgCqw.js";import{_ as mt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as no}from"./VImg-DTTLi8N3.js";import{a as Ie,V as Lt}from"./VRow-U9BCKMf6.js";import{V as _t,d as oo,b as lo}from"./VCard-BBjecQUS.js";import{V as yt}from"./VCardText-DGP4d7zZ.js";import{V as uo}from"./VCheckbox-CVRX89Q0.js";import{h as C}from"./moment-C5S46NFB.js";import{V as co}from"./VAutocomplete-BrZJDE2O.js";import{V as na}from"./VChip-CoWdbaPm.js";import{V as Ht}from"./VTextField-BfMLnCIA.js";import{V as fo}from"./VForm-B4Tyf17S.js";import{V as Vt}from"./VDivider-CVdsTcIK.js";import{V as ho}from"./VAlert-ymSxCZ52.js";import{V as mo}from"./VSpacer-B26ty9bD.js";import{V as _o}from"./VDialog-BXZSKyZJ.js";import{V as yo,a as vo,b as po,d as wo}from"./VList-5epMYaPo.js";import{V as go}from"./VContainer-DJrjzWZ9.js";import"./index-D1tqMycq.js";import"./index-9rIf2CJL.js";/* empty css              */import"./VAvatar-QubjHI1z.js";import"./VCheckboxBtn-DNkfUJpf.js";import"./VSelectionControl-DqCfd3An.js";import"./form-ijrz4ipO.js";import"./VInput-BZH6jw62.js";import"./VSelect-DDGWU2xG.js";import"./dialog-transition-CqXIoDZd.js";import"./VMenu-D1AAVsYt.js";import"./filter-B81R-Kvh.js";/* empty css                   */import"./VCounter-CfjE-LQa.js";import"./VField-B2YWi8oL.js";import"./ssrBoot-BzQpit4r.js";const Do={class:"paso1-container"},ko={class:"text-center mb-8"},Mo={key:0,class:"text-center py-8"},bo={key:1},So={class:"d-flex align-center justify-space-between"},Yo={class:"text-h6 mb-1"},xo={class:"text-body-2 text-medium-emphasis mb-2"},Oo={class:"text-h6 text-primary"},To={key:0,class:"text-center py-8"},No={class:"text-center mt-8"},Po={__name:"Paso1Servicios",emits:["continuar"],setup(A,{emit:ee}){const v=ee,o=G([]),$=G([]),x=G(!0),V=G(null),y=async()=>{try{x.value=!0;const E=await Ge("/getservicios",{method:"GET",params:{itemsPerPage:-1}});o.value=E.data||E}catch(E){console.error("Error cargando servicios:",E)}finally{x.value=!1}},p=E=>$.value.some(R=>R.id===E),u=E=>{const R=$.value.findIndex(H=>H.id===E.id);R>-1?$.value.splice(R,1):$.value.push(E)},T=E=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(E),re=()=>{$.value.length>0&&v("continuar",$.value)};return cs(()=>{y()}),(E,R)=>(W(),K("div",Do,[f("div",ko,[V.value?(W(),Re(no,{key:0,src:V.value,"max-width":"200",class:"mx-auto mb-4"},null,8,["src"])):We("",!0),R[0]||(R[0]=f("h1",{class:"text-h4 mb-2"},"Solicitar Cita",-1)),R[1]||(R[1]=f("p",{class:"text-body-1 text-medium-emphasis"},"Selecciona uno o varios servicios",-1))]),x.value?(W(),K("div",Mo,[_(la,{indeterminate:"",color:"primary"}),R[2]||(R[2]=f("p",{class:"mt-4"},"Cargando servicios...",-1))])):(W(),K("div",bo,[_(Lt,null,{default:k(()=>[(W(!0),K(ft,null,ht(o.value,H=>(W(),Re(Ie,{key:H.id,cols:"12",md:"6",lg:"4"},{default:k(()=>[_(_t,{class:ds([{"border-primary":p(H.id)},"service-card cursor-pointer"]),onClick:B=>u(H)},{default:k(()=>[_(yt,null,{default:k(()=>[f("div",So,[f("div",null,[f("h3",Yo,z(H.nombre),1),f("p",xo," Duración: "+z(H.duracion)+" min ",1),f("p",Oo,z(T(H.precio)),1)]),_(uo,{"model-value":p(H.id),onClick:io(B=>u(H),["stop"])},null,8,["model-value","onClick"])])]),_:2},1024)]),_:2},1032,["class","onClick"])]),_:2},1024))),128))]),_:1}),o.value.length===0?(W(),K("div",To,R[3]||(R[3]=[f("p",{class:"text-body-1 text-medium-emphasis"},"No hay servicios disponibles",-1)]))):We("",!0),f("div",No,[_(Fe,{color:"primary",size:"large",disabled:$.value.length===0,onClick:re},{default:k(()=>[R[4]||(R[4]=_e(" Continuar ")),_(ze,{end:"",icon:"ri-arrow-right-line"})]),_:1},8,["disabled"])])]))]))}},Co=mt(Po,[["__scopeId","data-v-87ec9359"]]),Ro={class:"paso2-container"},Wo={key:0,class:"text-center py-8"},Fo={key:1},Ho={class:"d-flex justify-space-between align-center mb-4"},Vo={class:"text-h6"},Lo={class:"dias-scroll-content"},Io={class:"text-center mb-3"},Eo={class:"text-subtitle-1 font-weight-bold mb-1"},Uo={class:"text-h6 mb-2"},Ao={key:0},$o={class:"text-body-2 font-weight-medium mb-2"},jo={class:"d-flex flex-wrap gap-2"},Go={key:1,class:"text-center text-medium-emphasis text-body-2"},zo={class:"d-flex justify-space-between mt-6"},Zo={__name:"Paso2FechaHorario",props:{serviciosSeleccionados:{type:Array,required:!0}},emits:["continuar","atras"],setup(A,{emit:ee}){const v=A,o=ee,$=G([]),x=G(null),V=G(!1),y=G(C().startOf("isoWeek")),p=G(null),u=G(null),T=G({}),re=G({fecha:null,horario:null,empleado:null,empleadoNombre:null,tienda:null}),E=G(null),R=G({}),H=st(()=>{const M=[];C.locale("es");for(let b=0;b<7;b++){const w=C(y.value).add(b,"days"),S=w.isSame(C(),"day");M.push({fecha:w.format("YYYY-MM-DD"),nombreDia:w.format("dddd"),nombreDiaCorto:w.format("ddd"),numeroDia:w.format("D"),mes:w.format("MMMM"),esHoy:S})}return M}),B=st(()=>{const M=C(y.value).format("D MMM"),b=C(y.value).add(6,"days").format("D MMM YYYY");return`${M} - ${b}`}),d=async()=>{try{const M=await Ge("/gettiendas",{method:"GET"});$.value=M.data||M}catch(M){console.error("Error cargando tiendas:",M)}},D=async()=>{if(x.value){V.value=!0;try{const M=v.serviciosSeleccionados.reduce((Q,X)=>Q+(X.duracion||60),0),b=C(y.value).format("YYYY-MM-DD"),w=await Ge(`/geteventsbymonth/${b}`,{method:"GET"}),S=await Ge("/getempleados",{method:"GET",params:{itemsPerPage:-1,tienda_id:parseInt(x.value)}}),j=S.data||S,se={};H.value.forEach(Q=>{se[Q.fecha]=[],j.forEach(X=>{var ae;if(!X.horario||X.horario.length===0)return;const ge=C(Q.fecha).isoWeekday(),ne=ge===7?0:ge,Z=(ae=X.horario)==null?void 0:ae.find(De=>De.dia===ne&&De.app_tienda_id===x.value);if(Z){const De=de(Q.fecha,Z.entrada,Z.salida,M,w,X.id),fe=pe(Q.fecha,Z.entrada,Z.salida,w,X.id),m=we(Q.fecha,Z.entrada,Z.salida);m.length>0&&se[Q.fecha].push({id:X.id,nombre:X.nombre,horarios:De,horariosOcupados:fe,todosHorarios:m,horariosDeshabilitados:fe})}})}),T.value=se}catch(M){console.error("Error cargando horarios:",M)}finally{V.value=!1}}},de=(M,b,w,S,j,se)=>{const Q=[],X=C(`${M} ${b}`,"YYYY-MM-DD HH:mm"),ge=C(`${M} ${w}`,"YYYY-MM-DD HH:mm"),ne=j.filter(ae=>C(ae.start).format("YYYY-MM-DD")===M&&(ae.app_empleado_id===se||ae.empleado===se));let Z=C(X);for(;Z.isBefore(ge);){const ae=C(Z).add(S,"minutes");ne.every(fe=>{const m=C(fe.start),It=C(fe.end);return ae.isSameOrBefore(m)||Z.isSameOrAfter(It)})&&ae.isSameOrBefore(ge)&&Q.push(Z.format("HH:mm")),Z.add(30,"minutes")}return Q},pe=(M,b,w,S,j)=>{const se=[];return S.filter(X=>C(X.start).format("YYYY-MM-DD")===M&&(X.app_empleado_id===j||X.empleado===j)).forEach(X=>{const ge=C(X.start),ne=C(X.end);let Z=C(ge);for(;Z.isBefore(ne);){const ae=Z.format("HH:mm");se.includes(ae)||se.push(ae),Z.add(30,"minutes")}}),se.sort()},we=(M,b,w)=>{const S=[],j=C(`${M} ${b}`,"YYYY-MM-DD HH:mm"),se=C(`${M} ${w}`,"YYYY-MM-DD HH:mm");let Q=C(j);for(;Q.isBefore(se);)S.push(Q.format("HH:mm")),Q.add(30,"minutes");return S},ce=(M,b,w,S)=>{p.value=M,u.value=`${M}_${b}_${S}`,re.value={fecha:M,horario:S,empleado:b,empleadoNombre:w,tienda:x.value}},Ee=()=>{y.value=C(y.value).subtract(7,"days").startOf("isoWeek"),D()},Me=()=>{y.value=C(y.value).add(7,"days").startOf("isoWeek"),D()},ie=()=>{ia(()=>{const M=C().format("YYYY-MM-DD"),b=H.value.find(w=>w.fecha===M);if(b&&R.value[b.fecha]&&E.value){const w=R.value[b.fecha],S=E.value,j=w.offsetLeft-S.offsetWidth/2+w.offsetWidth/2;S.scrollTo({left:j,behavior:"smooth"})}})},Ze=()=>{u.value=null,p.value=null,D()},J=()=>{re.value.fecha&&o("continuar",re.value)};return ra(()=>v.serviciosSeleccionados,()=>{x.value&&D()},{deep:!0}),ra(()=>T.value,()=>{ie()},{deep:!0}),cs(()=>{d(),ia(()=>{ie()})}),(M,b)=>(W(),K("div",Ro,[b[6]||(b[6]=f("div",{class:"text-center mb-6"},[f("h2",{class:"text-h5 mb-2"},"Selecciona Fecha y Horario"),f("p",{class:"text-body-2 text-medium-emphasis"},"Elige el día y la hora que mejor te convenga")],-1)),_(Lt,{class:"mb-4"},{default:k(()=>[_(Ie,{cols:"12",md:"6"},{default:k(()=>[_(co,{modelValue:x.value,"onUpdate:modelValue":[b[0]||(b[0]=w=>x.value=w),Ze],items:$.value,"item-title":"nombre","item-value":"id",label:"Selecciona una tienda",variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1}),V.value?(W(),K("div",Wo,[_(la,{indeterminate:"",color:"primary"}),b[2]||(b[2]=f("p",{class:"mt-4"},"Cargando horarios disponibles...",-1))])):x.value?(W(),K("div",Fo,[f("div",Ho,[_(Fe,{icon:"ri-arrow-left-s-line",variant:"text",onClick:Ee}),f("h3",Vo,z(B.value),1),_(Fe,{icon:"ri-arrow-right-s-line",variant:"text",onClick:Me})]),f("div",{ref_key:"scrollContainer",ref:E,class:"dias-scroll-container"},[f("div",Lo,[(W(!0),K(ft,null,ht(H.value,w=>(W(),K("div",{key:w.fecha,ref_for:!0,ref:S=>{S&&(R.value[w.fecha]=S)},class:"dia-card-wrapper"},[_(_t,{class:ds([{"border-primary":p.value===w.fecha},"dia-card"])},{default:k(()=>[_(yt,null,{default:k(()=>[f("div",Io,[f("p",Eo,z(w.nombreDiaCorto),1),f("p",Uo,z(w.numeroDia),1),w.esHoy?(W(),Re(na,{key:0,size:"small",color:"primary"},{default:k(()=>b[3]||(b[3]=[_e(" Hoy ")])),_:1})):We("",!0)]),T.value[w.fecha]&&T.value[w.fecha].length>0?(W(),K("div",Ao,[(W(!0),K(ft,null,ht(T.value[w.fecha],S=>(W(),K("div",{key:S.id,class:"mb-3"},[f("p",$o,z(S.nombre),1),f("div",jo,[(W(!0),K(ft,null,ht(S.todosHorarios,j=>(W(),Re(na,{key:j,class:ds([{"chip-selected":u.value===`${w.fecha}_${S.id}_${j}`,"chip-disabled":S.horariosDeshabilitados&&S.horariosDeshabilitados.includes(j)},"cursor-pointer"]),disabled:S.horariosDeshabilitados&&S.horariosDeshabilitados.includes(j),color:S.horariosDeshabilitados&&S.horariosDeshabilitados.includes(j)?"error":void 0,size:"small",variant:"outlined",onClick:se=>S.horariosDeshabilitados&&S.horariosDeshabilitados.includes(j)?null:ce(w.fecha,S.id,S.nombre,j)},{default:k(()=>[_e(z(j),1)]),_:2},1032,["class","disabled","color","onClick"]))),128))])]))),128))])):(W(),K("div",Go," Sin horarios disponibles "))]),_:2},1024)]),_:2},1032,["class"])]))),128))])],512),f("div",zo,[_(Fe,{variant:"outlined",onClick:b[1]||(b[1]=w=>M.$emit("atras"))},{default:k(()=>[_(ze,{start:"",icon:"ri-arrow-left-line"}),b[4]||(b[4]=_e(" Atrás "))]),_:1}),_(Fe,{color:"primary",disabled:!u.value,onClick:J},{default:k(()=>[b[5]||(b[5]=_e(" Continuar ")),_(ze,{end:"",icon:"ri-arrow-right-line"})]),_:1},8,["disabled"])])])):We("",!0)]))}},qo=mt(Zo,[["__scopeId","data-v-7826b6d3"]]),Bo={class:"paso3-container"},Jo={class:"d-flex justify-space-between"},Qo={__name:"Paso3Formulario",props:{formData:{type:Object,required:!0},paymentActive:{type:Boolean,default:!1}},emits:["atras","cita-guardada"],setup(A,{emit:ee}){const v=A,o=ee,$=G(null),x=G(!1),V=G(!1),y=G(!1),p=G({nombre:null,email:null,telefono:null}),u=G(null),T=async B=>{var D;if((D=B.data)!=null&&D.clientSecret){o("open_stripe_tab",B.data);return}const d=await re();y.value=!0,o("cita-guardada",d),R()},re=async()=>{try{const B=await Ge("/getempleados",{method:"GET",params:{itemsPerPage:-1,tienda_id:v.formData.tienda}}),D=(B.data||B).find(ce=>ce.id===v.formData.empleado),de=await Ge("/gettiendas",{method:"GET"}),we=(de.data||de).find(ce=>ce.id===v.formData.tienda);return{cliente:{...p.value},empleadoNombre:(D==null?void 0:D.nombre)||"N/A",tiendaNombre:(we==null?void 0:we.nombre)||"N/A"}}catch(B){return console.error("Error obteniendo datos del resumen:",B),{cliente:{...p.value},empleadoNombre:"N/A",tiendaNombre:"N/A"}}},E=async()=>{var d,D;const{valid:B}=await $.value.validate();if(B){V.value=!0;try{const de=v.formData.servicios.map(J=>J.id),pe=v.formData.servicios.reduce((J,M)=>J+(M.duracion||60),0),we=v.formData.servicios.reduce((J,M)=>J+(M.precio||0),0),ce=C(`${v.formData.fecha} ${v.formData.horario}`).format("YYYY-MM-DD HH:mm:ss"),Ee=C(ce).add(pe,"minutes").format("YYYY-MM-DD HH:mm:ss"),Me=((D=(d=v.formData.servicios[0])==null?void 0:d.tipo)==null?void 0:D.nombre)||"peluqueria",ie={cita:{start:ce,end:Ee,app_empleado_id:v.formData.empleado,app_tienda_id:v.formData.tienda,servicios:de,duracion:pe,precio:we,observacionesUsuario:u.value,tipo:Me,fecha:v.formData.fecha,confirmada:!1,recogida:!1,pago:!1},cliente:p.value},Ze=await Ge("/saveCitaWeb",{method:"POST",body:ie});T(Ze)}catch(de){console.error("Error guardando cita:",de)}finally{V.value=!1}}},R=()=>{var B,d;p.value={nombre:null,email:null,telefono:null},u.value=null,(B=$.value)==null||B.reset(),(d=$.value)==null||d.resetValidation()},H=()=>{y.value=!1};return(B,d)=>(W(),K("div",Bo,[d[10]||(d[10]=f("div",{class:"text-center mb-6"},[f("h2",{class:"text-h5 mb-2"},"Datos del Cliente"),f("p",{class:"text-body-2 text-medium-emphasis"},"(*) Campos requeridos")],-1)),_(fo,{ref_key:"formRef",ref:$,modelValue:x.value,"onUpdate:modelValue":d[4]||(d[4]=D=>x.value=D)},{default:k(()=>[_(Lt,null,{default:k(()=>[_(Ie,{cols:"12"},{default:k(()=>[_(Ht,{modelValue:p.value.nombre,"onUpdate:modelValue":d[0]||(d[0]=D=>p.value.nombre=D),label:"Nombre*",rules:[D=>!!D||"Campo requerido",D=>/^[a-z0-9 ]+$/i.test(D)||"Este campo solo permite letras y números"],maxlength:"50",variant:"outlined",clearable:""},null,8,["modelValue","rules"])]),_:1}),_(Ie,{cols:"12"},{default:k(()=>[_(Ht,{modelValue:p.value.email,"onUpdate:modelValue":d[1]||(d[1]=D=>p.value.email=D),label:"Correo Electrónico*",rules:[D=>!!D||"Campo requerido",D=>/^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i.test(D)||"Correo inválido"],maxlength:"50",variant:"outlined",clearable:""},null,8,["modelValue","rules"])]),_:1}),_(Ie,{cols:"12"},{default:k(()=>[_(Ht,{modelValue:p.value.telefono,"onUpdate:modelValue":d[2]||(d[2]=D=>p.value.telefono=D),label:"Teléfono*",rules:[D=>!!D||"Campo requerido",D=>Number.isInteger(Number(D))||"El campo es solo números"],maxlength:"9",variant:"outlined",clearable:""},null,8,["modelValue","rules"])]),_:1}),_(Ie,{cols:"12"},{default:k(()=>[_(Ht,{modelValue:u.value,"onUpdate:modelValue":d[3]||(d[3]=D=>u.value=D),label:"Comentario",variant:"outlined",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),_(Vt,{class:"my-6"}),f("div",Jo,[_(Fe,{variant:"outlined",onClick:d[5]||(d[5]=D=>B.$emit("atras"))},{default:k(()=>[_(ze,{start:"",icon:"ri-arrow-left-line"}),d[7]||(d[7]=_e(" Atrás "))]),_:1}),_(Fe,{color:"primary",loading:V.value,onClick:E},{default:k(()=>[_e(z(A.paymentActive?"CONTINUAR AL PAGO":"CONFIRMAR CITA")+" ",1),_(ze,{end:"",icon:"ri-check-line"})]),_:1},8,["loading"])]),_(_o,{modelValue:y.value,"onUpdate:modelValue":d[6]||(d[6]=D=>y.value=D),"max-width":"500"},{default:k(()=>[_(_t,null,{default:k(()=>[_(yt,null,{default:k(()=>[_(ho,{color:"success",variant:"tonal",border:"start",icon:"ri-check-line"},{default:k(()=>d[8]||(d[8]=[_e(" Tu cita se ha creado correctamente, en breve recibirás un mail con la confirmación ")])),_:1})]),_:1}),_(oo,null,{default:k(()=>[_(mo),_(Fe,{color:"primary",onClick:H},{default:k(()=>d[9]||(d[9]=[_e(" Aceptar ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Xo=mt(Qo,[["__scopeId","data-v-675f346e"]]);function da(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var us={exports:{}},oa;function Ko(){return oa||(oa=1,function(A,ee){(function(v,o){A.exports=o()})(ua,function(){var v;function o(){return v.apply(null,arguments)}function $(e){v=e}function x(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function V(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(y(e,t))return!1;return!0}function u(e){return e===void 0}function T(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function re(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function E(e,t){var s=[],a,r=e.length;for(a=0;a<r;++a)s.push(t(e[a],a));return s}function R(e,t){for(var s in t)y(t,s)&&(e[s]=t[s]);return y(t,"toString")&&(e.toString=t.toString),y(t,"valueOf")&&(e.valueOf=t.valueOf),e}function H(e,t,s,a){return Fs(e,t,s,a,!0).utc()}function B(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function d(e){return e._pf==null&&(e._pf=B()),e._pf}var D;Array.prototype.some?D=Array.prototype.some:D=function(e){var t=Object(this),s=t.length>>>0,a;for(a=0;a<s;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};function de(e){var t=null,s=!1,a=e._d&&!isNaN(e._d.getTime());if(a&&(t=d(e),s=D.call(t.parsedDateParts,function(r){return r!=null}),a=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s),e._strict&&(a=a&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=a;else return a;return e._isValid}function pe(e){var t=H(NaN);return e!=null?R(d(t),e):d(t).userInvalidated=!0,t}var we=o.momentProperties=[],ce=!1;function Ee(e,t){var s,a,r,i=we.length;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=d(t)),u(t._locale)||(e._locale=t._locale),i>0)for(s=0;s<i;s++)a=we[s],r=t[a],u(r)||(e[a]=r);return e}function Me(e){Ee(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ce===!1&&(ce=!0,o.updateOffset(this),ce=!1)}function ie(e){return e instanceof Me||e!=null&&e._isAMomentObject!=null}function Ze(e){o.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function J(e,t){var s=!0;return R(function(){if(o.deprecationHandler!=null&&o.deprecationHandler(null,e),s){var a=[],r,i,n,c=arguments.length;for(i=0;i<c;i++){if(r="",typeof arguments[i]=="object"){r+=`
[`+i+"] ";for(n in arguments[0])y(arguments[0],n)&&(r+=n+": "+arguments[0][n]+", ");r=r.slice(0,-2)}else r=arguments[i];a.push(r)}Ze(e+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var M={};function b(e,t){o.deprecationHandler!=null&&o.deprecationHandler(e,t),M[e]||(Ze(t),M[e]=!0)}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null;function w(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function S(e){var t,s;for(s in e)y(e,s)&&(t=e[s],w(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function j(e,t){var s=R({},e),a;for(a in t)y(t,a)&&(V(e[a])&&V(t[a])?(s[a]={},R(s[a],e[a]),R(s[a],t[a])):t[a]!=null?s[a]=t[a]:delete s[a]);for(a in e)y(e,a)&&!y(t,a)&&V(e[a])&&(s[a]=R({},s[a]));return s}function se(e){e!=null&&this.set(e)}var Q;Object.keys?Q=Object.keys:Q=function(e){var t,s=[];for(t in e)y(e,t)&&s.push(t);return s};var X={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ge(e,t,s){var a=this._calendar[e]||this._calendar.sameElse;return w(a)?a.call(t,s):a}function ne(e,t,s){var a=""+Math.abs(e),r=t-a.length,i=e>=0;return(i?s?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+a}var Z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ae=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,De={},fe={};function m(e,t,s,a){var r=a;typeof a=="string"&&(r=function(){return this[a]()}),e&&(fe[e]=r),t&&(fe[t[0]]=function(){return ne(r.apply(this,arguments),t[1],t[2])}),s&&(fe[s]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function It(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function fs(e){var t=e.match(Z),s,a;for(s=0,a=t.length;s<a;s++)fe[t[s]]?t[s]=fe[t[s]]:t[s]=It(t[s]);return function(r){var i="",n;for(n=0;n<a;n++)i+=w(t[n])?t[n].call(r,e):t[n];return i}}function vt(e,t){return e.isValid()?(t=hs(t,e.localeData()),De[t]=De[t]||fs(t),De[t](e)):e.localeData().invalidDate()}function hs(e,t){var s=5;function a(r){return t.longDateFormat(r)||r}for(ae.lastIndex=0;s>=0&&ae.test(e);)e=e.replace(ae,a),ae.lastIndex=0,s-=1;return e}var ca={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function fa(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(Z).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[e])}var ha="Invalid date";function ma(){return this._invalidDate}var _a="%d",ya=/\d{1,2}/;function va(e){return this._ordinal.replace("%d",e)}var pa={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function wa(e,t,s,a){var r=this._relativeTime[s];return w(r)?r(e,t,s,a):r.replace(/%d/i,e)}function ga(e,t){var s=this._relativeTime[e>0?"future":"past"];return w(s)?s(t):s.replace(/%s/i,t)}var ms={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function he(e){return typeof e=="string"?ms[e]||ms[e.toLowerCase()]:void 0}function Et(e){var t={},s,a;for(a in e)y(e,a)&&(s=he(a),s&&(t[s]=e[a]));return t}var Da={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ka(e){var t=[],s;for(s in e)y(e,s)&&t.push({unit:s,priority:Da[s]});return t.sort(function(a,r){return a.priority-r.priority}),t}var _s=/\d/,ue=/\d\d/,ys=/\d{3}/,Ut=/\d{4}/,pt=/[+-]?\d{6}/,L=/\d\d?/,vs=/\d\d\d\d?/,ps=/\d\d\d\d\d\d?/,wt=/\d{1,3}/,At=/\d{1,4}/,gt=/[+-]?\d{1,6}/,qe=/\d+/,Dt=/[+-]?\d+/,Ma=/Z|[+-]\d\d:?\d\d/gi,kt=/Z|[+-]\d\d(?::?\d\d)?/gi,ba=/[+-]?\d+(\.\d{1,3})?/,at=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Be=/^[1-9]\d?/,$t=/^([1-9]\d|\d)/,Mt;Mt={};function h(e,t,s){Mt[e]=w(t)?t:function(a,r){return a&&s?s:t}}function Sa(e,t){return y(Mt,e)?Mt[e](t._strict,t._locale):new RegExp(Ya(e))}function Ya(e){return be(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,a,r,i){return s||a||r||i}))}function be(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function me(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Y(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=me(t)),s}var jt={};function F(e,t){var s,a=t,r;for(typeof e=="string"&&(e=[e]),T(t)&&(a=function(i,n){n[t]=Y(i)}),r=e.length,s=0;s<r;s++)jt[e[s]]=a}function rt(e,t){F(e,function(s,a,r,i){r._w=r._w||{},t(s,r._w,r,i)})}function xa(e,t,s){t!=null&&y(jt,e)&&jt[e](t,s._a,s,e)}function bt(e){return e%4===0&&e%100!==0||e%400===0}var oe=0,Se=1,ke=2,te=3,ye=4,Ye=5,Ue=6,Oa=7,Ta=8;m("Y",0,0,function(){var e=this.year();return e<=9999?ne(e,4):"+"+e}),m(0,["YY",2],0,function(){return this.year()%100}),m(0,["YYYY",4],0,"year"),m(0,["YYYYY",5],0,"year"),m(0,["YYYYYY",6,!0],0,"year"),h("Y",Dt),h("YY",L,ue),h("YYYY",At,Ut),h("YYYYY",gt,pt),h("YYYYYY",gt,pt),F(["YYYYY","YYYYYY"],oe),F("YYYY",function(e,t){t[oe]=e.length===2?o.parseTwoDigitYear(e):Y(e)}),F("YY",function(e,t){t[oe]=o.parseTwoDigitYear(e)}),F("Y",function(e,t){t[oe]=parseInt(e,10)});function it(e){return bt(e)?366:365}o.parseTwoDigitYear=function(e){return Y(e)+(Y(e)>68?1900:2e3)};var ws=Je("FullYear",!0);function Na(){return bt(this.year())}function Je(e,t){return function(s){return s!=null?(gs(this,e,s),o.updateOffset(this,t),this):nt(this,e)}}function nt(e,t){if(!e.isValid())return NaN;var s=e._d,a=e._isUTC;switch(t){case"Milliseconds":return a?s.getUTCMilliseconds():s.getMilliseconds();case"Seconds":return a?s.getUTCSeconds():s.getSeconds();case"Minutes":return a?s.getUTCMinutes():s.getMinutes();case"Hours":return a?s.getUTCHours():s.getHours();case"Date":return a?s.getUTCDate():s.getDate();case"Day":return a?s.getUTCDay():s.getDay();case"Month":return a?s.getUTCMonth():s.getMonth();case"FullYear":return a?s.getUTCFullYear():s.getFullYear();default:return NaN}}function gs(e,t,s){var a,r,i,n,c;if(!(!e.isValid()||isNaN(s))){switch(a=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?a.setUTCMilliseconds(s):a.setMilliseconds(s));case"Seconds":return void(r?a.setUTCSeconds(s):a.setSeconds(s));case"Minutes":return void(r?a.setUTCMinutes(s):a.setMinutes(s));case"Hours":return void(r?a.setUTCHours(s):a.setHours(s));case"Date":return void(r?a.setUTCDate(s):a.setDate(s));case"FullYear":break;default:return}i=s,n=e.month(),c=e.date(),c=c===29&&n===1&&!bt(i)?28:c,r?a.setUTCFullYear(i,n,c):a.setFullYear(i,n,c)}}function Pa(e){return e=he(e),w(this[e])?this[e]():this}function Ca(e,t){if(typeof e=="object"){e=Et(e);var s=ka(e),a,r=s.length;for(a=0;a<r;a++)this[s[a].unit](e[s[a].unit])}else if(e=he(e),w(this[e]))return this[e](t);return this}function Ra(e,t){return(e%t+t)%t}var q;Array.prototype.indexOf?q=Array.prototype.indexOf:q=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Gt(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=Ra(t,12);return e+=(t-s)/12,s===1?bt(e)?29:28:31-s%7%2}m("M",["MM",2],"Mo",function(){return this.month()+1}),m("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),m("MMMM",0,0,function(e){return this.localeData().months(this,e)}),h("M",L,Be),h("MM",L,ue),h("MMM",function(e,t){return t.monthsShortRegex(e)}),h("MMMM",function(e,t){return t.monthsRegex(e)}),F(["M","MM"],function(e,t){t[Se]=Y(e)-1}),F(["MMM","MMMM"],function(e,t,s,a){var r=s._locale.monthsParse(e,a,s._strict);r!=null?t[Se]=r:d(s).invalidMonth=e});var Wa="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ds="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ks=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Fa=at,Ha=at;function Va(e,t){return e?x(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ks).test(t)?"format":"standalone"][e.month()]:x(this._months)?this._months:this._months.standalone}function La(e,t){return e?x(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ks.test(t)?"format":"standalone"][e.month()]:x(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ia(e,t,s){var a,r,i,n=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)i=H([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(i,"").toLocaleLowerCase();return s?t==="MMM"?(r=q.call(this._shortMonthsParse,n),r!==-1?r:null):(r=q.call(this._longMonthsParse,n),r!==-1?r:null):t==="MMM"?(r=q.call(this._shortMonthsParse,n),r!==-1?r:(r=q.call(this._longMonthsParse,n),r!==-1?r:null)):(r=q.call(this._longMonthsParse,n),r!==-1?r:(r=q.call(this._shortMonthsParse,n),r!==-1?r:null))}function Ea(e,t,s){var a,r,i;if(this._monthsParseExact)return Ia.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(r=H([2e3,a]),s&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!s&&!this._monthsParse[a]&&(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[a]=new RegExp(i.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[a].test(e))return a;if(s&&t==="MMM"&&this._shortMonthsParse[a].test(e))return a;if(!s&&this._monthsParse[a].test(e))return a}}function Ms(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Y(t);else if(t=e.localeData().monthsParse(t),!T(t))return e}var s=t,a=e.date();return a=a<29?a:Math.min(a,Gt(e.year(),s)),e._isUTC?e._d.setUTCMonth(s,a):e._d.setMonth(s,a),e}function bs(e){return e!=null?(Ms(this,e),o.updateOffset(this,!0),this):nt(this,"Month")}function Ua(){return Gt(this.year(),this.month())}function Aa(e){return this._monthsParseExact?(y(this,"_monthsRegex")||Ss.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(y(this,"_monthsShortRegex")||(this._monthsShortRegex=Fa),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function $a(e){return this._monthsParseExact?(y(this,"_monthsRegex")||Ss.call(this),e?this._monthsStrictRegex:this._monthsRegex):(y(this,"_monthsRegex")||(this._monthsRegex=Ha),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Ss(){function e(g,O){return O.length-g.length}var t=[],s=[],a=[],r,i,n,c;for(r=0;r<12;r++)i=H([2e3,r]),n=be(this.monthsShort(i,"")),c=be(this.months(i,"")),t.push(n),s.push(c),a.push(c),a.push(n);t.sort(e),s.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function ja(e,t,s,a,r,i,n){var c;return e<100&&e>=0?(c=new Date(e+400,t,s,a,r,i,n),isFinite(c.getFullYear())&&c.setFullYear(e)):c=new Date(e,t,s,a,r,i,n),c}function ot(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function St(e,t,s){var a=7+t-s,r=(7+ot(e,0,a).getUTCDay()-t)%7;return-r+a-1}function Ys(e,t,s,a,r){var i=(7+s-a)%7,n=St(e,a,r),c=1+7*(t-1)+i+n,g,O;return c<=0?(g=e-1,O=it(g)+c):c>it(e)?(g=e+1,O=c-it(e)):(g=e,O=c),{year:g,dayOfYear:O}}function lt(e,t,s){var a=St(e.year(),t,s),r=Math.floor((e.dayOfYear()-a-1)/7)+1,i,n;return r<1?(n=e.year()-1,i=r+xe(n,t,s)):r>xe(e.year(),t,s)?(i=r-xe(e.year(),t,s),n=e.year()+1):(n=e.year(),i=r),{week:i,year:n}}function xe(e,t,s){var a=St(e,t,s),r=St(e+1,t,s);return(it(e)-a+r)/7}m("w",["ww",2],"wo","week"),m("W",["WW",2],"Wo","isoWeek"),h("w",L,Be),h("ww",L,ue),h("W",L,Be),h("WW",L,ue),rt(["w","ww","W","WW"],function(e,t,s,a){t[a.substr(0,1)]=Y(e)});function Ga(e){return lt(e,this._week.dow,this._week.doy).week}var za={dow:0,doy:6};function Za(){return this._week.dow}function qa(){return this._week.doy}function Ba(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Ja(e){var t=lt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}m("d",0,"do","day"),m("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),m("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),m("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),m("e",0,0,"weekday"),m("E",0,0,"isoWeekday"),h("d",L),h("e",L),h("E",L),h("dd",function(e,t){return t.weekdaysMinRegex(e)}),h("ddd",function(e,t){return t.weekdaysShortRegex(e)}),h("dddd",function(e,t){return t.weekdaysRegex(e)}),rt(["dd","ddd","dddd"],function(e,t,s,a){var r=s._locale.weekdaysParse(e,a,s._strict);r!=null?t.d=r:d(s).invalidWeekday=e}),rt(["d","e","E"],function(e,t,s,a){t[a]=Y(e)});function Qa(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Xa(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function zt(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Ka="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xs="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),er="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),tr=at,sr=at,ar=at;function rr(e,t){var s=x(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?zt(s,this._week.dow):e?s[e.day()]:s}function ir(e){return e===!0?zt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function nr(e){return e===!0?zt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function or(e,t,s){var a,r,i,n=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)i=H([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(i,"").toLocaleLowerCase();return s?t==="dddd"?(r=q.call(this._weekdaysParse,n),r!==-1?r:null):t==="ddd"?(r=q.call(this._shortWeekdaysParse,n),r!==-1?r:null):(r=q.call(this._minWeekdaysParse,n),r!==-1?r:null):t==="dddd"?(r=q.call(this._weekdaysParse,n),r!==-1||(r=q.call(this._shortWeekdaysParse,n),r!==-1)?r:(r=q.call(this._minWeekdaysParse,n),r!==-1?r:null)):t==="ddd"?(r=q.call(this._shortWeekdaysParse,n),r!==-1||(r=q.call(this._weekdaysParse,n),r!==-1)?r:(r=q.call(this._minWeekdaysParse,n),r!==-1?r:null)):(r=q.call(this._minWeekdaysParse,n),r!==-1||(r=q.call(this._weekdaysParse,n),r!==-1)?r:(r=q.call(this._shortWeekdaysParse,n),r!==-1?r:null))}function lr(e,t,s){var a,r,i;if(this._weekdaysParseExact)return or.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(r=H([2e3,1]).day(a),s&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[a]=new RegExp(i.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[a].test(e))return a;if(s&&t==="ddd"&&this._shortWeekdaysParse[a].test(e))return a;if(s&&t==="dd"&&this._minWeekdaysParse[a].test(e))return a;if(!s&&this._weekdaysParse[a].test(e))return a}}function ur(e){if(!this.isValid())return e!=null?this:NaN;var t=nt(this,"Day");return e!=null?(e=Qa(e,this.localeData()),this.add(e-t,"d")):t}function dr(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function cr(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Xa(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function fr(e){return this._weekdaysParseExact?(y(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(y(this,"_weekdaysRegex")||(this._weekdaysRegex=tr),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function hr(e){return this._weekdaysParseExact?(y(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(y(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=sr),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function mr(e){return this._weekdaysParseExact?(y(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(y(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ar),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zt(){function e(le,Ce){return Ce.length-le.length}var t=[],s=[],a=[],r=[],i,n,c,g,O;for(i=0;i<7;i++)n=H([2e3,1]).day(i),c=be(this.weekdaysMin(n,"")),g=be(this.weekdaysShort(n,"")),O=be(this.weekdays(n,"")),t.push(c),s.push(g),a.push(O),r.push(c),r.push(g),r.push(O);t.sort(e),s.sort(e),a.sort(e),r.sort(e),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function qt(){return this.hours()%12||12}function _r(){return this.hours()||24}m("H",["HH",2],0,"hour"),m("h",["hh",2],0,qt),m("k",["kk",2],0,_r),m("hmm",0,0,function(){return""+qt.apply(this)+ne(this.minutes(),2)}),m("hmmss",0,0,function(){return""+qt.apply(this)+ne(this.minutes(),2)+ne(this.seconds(),2)}),m("Hmm",0,0,function(){return""+this.hours()+ne(this.minutes(),2)}),m("Hmmss",0,0,function(){return""+this.hours()+ne(this.minutes(),2)+ne(this.seconds(),2)});function Os(e,t){m(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Os("a",!0),Os("A",!1);function Ts(e,t){return t._meridiemParse}h("a",Ts),h("A",Ts),h("H",L,$t),h("h",L,Be),h("k",L,Be),h("HH",L,ue),h("hh",L,ue),h("kk",L,ue),h("hmm",vs),h("hmmss",ps),h("Hmm",vs),h("Hmmss",ps),F(["H","HH"],te),F(["k","kk"],function(e,t,s){var a=Y(e);t[te]=a===24?0:a}),F(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e}),F(["h","hh"],function(e,t,s){t[te]=Y(e),d(s).bigHour=!0}),F("hmm",function(e,t,s){var a=e.length-2;t[te]=Y(e.substr(0,a)),t[ye]=Y(e.substr(a)),d(s).bigHour=!0}),F("hmmss",function(e,t,s){var a=e.length-4,r=e.length-2;t[te]=Y(e.substr(0,a)),t[ye]=Y(e.substr(a,2)),t[Ye]=Y(e.substr(r)),d(s).bigHour=!0}),F("Hmm",function(e,t,s){var a=e.length-2;t[te]=Y(e.substr(0,a)),t[ye]=Y(e.substr(a))}),F("Hmmss",function(e,t,s){var a=e.length-4,r=e.length-2;t[te]=Y(e.substr(0,a)),t[ye]=Y(e.substr(a,2)),t[Ye]=Y(e.substr(r))});function yr(e){return(e+"").toLowerCase().charAt(0)==="p"}var vr=/[ap]\.?m?\.?/i,pr=Je("Hours",!0);function wr(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var Ns={calendar:X,longDateFormat:ca,invalidDate:ha,ordinal:_a,dayOfMonthOrdinalParse:ya,relativeTime:pa,months:Wa,monthsShort:Ds,week:za,weekdays:Ka,weekdaysMin:er,weekdaysShort:xs,meridiemParse:vr},U={},ut={},dt;function gr(e,t){var s,a=Math.min(e.length,t.length);for(s=0;s<a;s+=1)if(e[s]!==t[s])return s;return a}function Ps(e){return e&&e.toLowerCase().replace("_","-")}function Dr(e){for(var t=0,s,a,r,i;t<e.length;){for(i=Ps(e[t]).split("-"),s=i.length,a=Ps(e[t+1]),a=a?a.split("-"):null;s>0;){if(r=Yt(i.slice(0,s).join("-")),r)return r;if(a&&a.length>=s&&gr(i,a)>=s-1)break;s--}t++}return dt}function kr(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Yt(e){var t=null,s;if(U[e]===void 0&&A&&A.exports&&kr(e))try{t=dt._abbr,s=da,s("./locale/"+e),He(t)}catch{U[e]=null}return U[e]}function He(e,t){var s;return e&&(u(t)?s=Oe(e):s=Bt(e,t),s?dt=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),dt._abbr}function Bt(e,t){if(t!==null){var s,a=Ns;if(t.abbr=e,U[e]!=null)b("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=U[e]._config;else if(t.parentLocale!=null)if(U[t.parentLocale]!=null)a=U[t.parentLocale]._config;else if(s=Yt(t.parentLocale),s!=null)a=s._config;else return ut[t.parentLocale]||(ut[t.parentLocale]=[]),ut[t.parentLocale].push({name:e,config:t}),null;return U[e]=new se(j(a,t)),ut[e]&&ut[e].forEach(function(r){Bt(r.name,r.config)}),He(e),U[e]}else return delete U[e],null}function Mr(e,t){if(t!=null){var s,a,r=Ns;U[e]!=null&&U[e].parentLocale!=null?U[e].set(j(U[e]._config,t)):(a=Yt(e),a!=null&&(r=a._config),t=j(r,t),a==null&&(t.abbr=e),s=new se(t),s.parentLocale=U[e],U[e]=s),He(e)}else U[e]!=null&&(U[e].parentLocale!=null?(U[e]=U[e].parentLocale,e===He()&&He(e)):U[e]!=null&&delete U[e]);return U[e]}function Oe(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return dt;if(!x(e)){if(t=Yt(e),t)return t;e=[e]}return Dr(e)}function br(){return Q(U)}function Jt(e){var t,s=e._a;return s&&d(e).overflow===-2&&(t=s[Se]<0||s[Se]>11?Se:s[ke]<1||s[ke]>Gt(s[oe],s[Se])?ke:s[te]<0||s[te]>24||s[te]===24&&(s[ye]!==0||s[Ye]!==0||s[Ue]!==0)?te:s[ye]<0||s[ye]>59?ye:s[Ye]<0||s[Ye]>59?Ye:s[Ue]<0||s[Ue]>999?Ue:-1,d(e)._overflowDayOfYear&&(t<oe||t>ke)&&(t=ke),d(e)._overflowWeeks&&t===-1&&(t=Oa),d(e)._overflowWeekday&&t===-1&&(t=Ta),d(e).overflow=t),e}var Sr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xr=/Z|[+-]\d\d(?::?\d\d)?/,xt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Qt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Or=/^\/?Date\((-?\d+)/i,Tr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Nr={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Cs(e){var t,s,a=e._i,r=Sr.exec(a)||Yr.exec(a),i,n,c,g,O=xt.length,le=Qt.length;if(r){for(d(e).iso=!0,t=0,s=O;t<s;t++)if(xt[t][1].exec(r[1])){n=xt[t][0],i=xt[t][2]!==!1;break}if(n==null){e._isValid=!1;return}if(r[3]){for(t=0,s=le;t<s;t++)if(Qt[t][1].exec(r[3])){c=(r[2]||" ")+Qt[t][0];break}if(c==null){e._isValid=!1;return}}if(!i&&c!=null){e._isValid=!1;return}if(r[4])if(xr.exec(r[4]))g="Z";else{e._isValid=!1;return}e._f=n+(c||"")+(g||""),Kt(e)}else e._isValid=!1}function Pr(e,t,s,a,r,i){var n=[Cr(e),Ds.indexOf(t),parseInt(s,10),parseInt(a,10),parseInt(r,10)];return i&&n.push(parseInt(i,10)),n}function Cr(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Rr(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Wr(e,t,s){if(e){var a=xs.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(a!==r)return d(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function Fr(e,t,s){if(e)return Nr[e];if(t)return 0;var a=parseInt(s,10),r=a%100,i=(a-r)/100;return i*60+r}function Rs(e){var t=Tr.exec(Rr(e._i)),s;if(t){if(s=Pr(t[4],t[3],t[2],t[5],t[6],t[7]),!Wr(t[1],s,e))return;e._a=s,e._tzm=Fr(t[8],t[9],t[10]),e._d=ot.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),d(e).rfc2822=!0}else e._isValid=!1}function Hr(e){var t=Or.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Cs(e),e._isValid===!1)delete e._isValid;else return;if(Rs(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:o.createFromInputFallback(e)}o.createFromInputFallback=J("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Qe(e,t,s){return e??t??s}function Vr(e){var t=new Date(o.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Xt(e){var t,s,a=[],r,i,n;if(!e._d){for(r=Vr(e),e._w&&e._a[ke]==null&&e._a[Se]==null&&Lr(e),e._dayOfYear!=null&&(n=Qe(e._a[oe],r[oe]),(e._dayOfYear>it(n)||e._dayOfYear===0)&&(d(e)._overflowDayOfYear=!0),s=ot(n,0,e._dayOfYear),e._a[Se]=s.getUTCMonth(),e._a[ke]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[te]===24&&e._a[ye]===0&&e._a[Ye]===0&&e._a[Ue]===0&&(e._nextDay=!0,e._a[te]=0),e._d=(e._useUTC?ot:ja).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[te]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(d(e).weekdayMismatch=!0)}}function Lr(e){var t,s,a,r,i,n,c,g,O;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,n=4,s=Qe(t.GG,e._a[oe],lt(I(),1,4).year),a=Qe(t.W,1),r=Qe(t.E,1),(r<1||r>7)&&(g=!0)):(i=e._locale._week.dow,n=e._locale._week.doy,O=lt(I(),i,n),s=Qe(t.gg,e._a[oe],O.year),a=Qe(t.w,O.week),t.d!=null?(r=t.d,(r<0||r>6)&&(g=!0)):t.e!=null?(r=t.e+i,(t.e<0||t.e>6)&&(g=!0)):r=i),a<1||a>xe(s,i,n)?d(e)._overflowWeeks=!0:g!=null?d(e)._overflowWeekday=!0:(c=Ys(s,a,r,i,n),e._a[oe]=c.year,e._dayOfYear=c.dayOfYear)}o.ISO_8601=function(){},o.RFC_2822=function(){};function Kt(e){if(e._f===o.ISO_8601){Cs(e);return}if(e._f===o.RFC_2822){Rs(e);return}e._a=[],d(e).empty=!0;var t=""+e._i,s,a,r,i,n,c=t.length,g=0,O,le;for(r=hs(e._f,e._locale).match(Z)||[],le=r.length,s=0;s<le;s++)i=r[s],a=(t.match(Sa(i,e))||[])[0],a&&(n=t.substr(0,t.indexOf(a)),n.length>0&&d(e).unusedInput.push(n),t=t.slice(t.indexOf(a)+a.length),g+=a.length),fe[i]?(a?d(e).empty=!1:d(e).unusedTokens.push(i),xa(i,a,e)):e._strict&&!a&&d(e).unusedTokens.push(i);d(e).charsLeftOver=c-g,t.length>0&&d(e).unusedInput.push(t),e._a[te]<=12&&d(e).bigHour===!0&&e._a[te]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[te]=Ir(e._locale,e._a[te],e._meridiem),O=d(e).era,O!==null&&(e._a[oe]=e._locale.erasConvertYear(O,e._a[oe])),Xt(e),Jt(e)}function Ir(e,t,s){var a;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(a=e.isPM(s),a&&t<12&&(t+=12),!a&&t===12&&(t=0)),t)}function Er(e){var t,s,a,r,i,n,c=!1,g=e._f.length;if(g===0){d(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<g;r++)i=0,n=!1,t=Ee({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[r],Kt(t),de(t)&&(n=!0),i+=d(t).charsLeftOver,i+=d(t).unusedTokens.length*10,d(t).score=i,c?i<a&&(a=i,s=t):(a==null||i<a||n)&&(a=i,s=t,n&&(c=!0));R(e,s||t)}function Ur(e){if(!e._d){var t=Et(e._i),s=t.day===void 0?t.date:t.day;e._a=E([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(a){return a&&parseInt(a,10)}),Xt(e)}}function Ar(e){var t=new Me(Jt(Ws(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ws(e){var t=e._i,s=e._f;return e._locale=e._locale||Oe(e._l),t===null||s===void 0&&t===""?pe({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),ie(t)?new Me(Jt(t)):(re(t)?e._d=t:x(s)?Er(e):s?Kt(e):$r(e),de(e)||(e._d=null),e))}function $r(e){var t=e._i;u(t)?e._d=new Date(o.now()):re(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Hr(e):x(t)?(e._a=E(t.slice(0),function(s){return parseInt(s,10)}),Xt(e)):V(t)?Ur(e):T(t)?e._d=new Date(t):o.createFromInputFallback(e)}function Fs(e,t,s,a,r){var i={};return(t===!0||t===!1)&&(a=t,t=void 0),(s===!0||s===!1)&&(a=s,s=void 0),(V(e)&&p(e)||x(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=r,i._l=s,i._i=e,i._f=t,i._strict=a,Ar(i)}function I(e,t,s,a){return Fs(e,t,s,a,!1)}var jr=J("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=I.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:pe()}),Gr=J("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=I.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:pe()});function Hs(e,t){var s,a;if(t.length===1&&x(t[0])&&(t=t[0]),!t.length)return I();for(s=t[0],a=1;a<t.length;++a)(!t[a].isValid()||t[a][e](s))&&(s=t[a]);return s}function zr(){var e=[].slice.call(arguments,0);return Hs("isBefore",e)}function Zr(){var e=[].slice.call(arguments,0);return Hs("isAfter",e)}var qr=function(){return Date.now?Date.now():+new Date},ct=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Br(e){var t,s=!1,a,r=ct.length;for(t in e)if(y(e,t)&&!(q.call(ct,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(a=0;a<r;++a)if(e[ct[a]]){if(s)return!1;parseFloat(e[ct[a]])!==Y(e[ct[a]])&&(s=!0)}return!0}function Jr(){return this._isValid}function Qr(){return ve(NaN)}function Ot(e){var t=Et(e),s=t.year||0,a=t.quarter||0,r=t.month||0,i=t.week||t.isoWeek||0,n=t.day||0,c=t.hour||0,g=t.minute||0,O=t.second||0,le=t.millisecond||0;this._isValid=Br(t),this._milliseconds=+le+O*1e3+g*6e4+c*1e3*60*60,this._days=+n+i*7,this._months=+r+a*3+s*12,this._data={},this._locale=Oe(),this._bubble()}function Tt(e){return e instanceof Ot}function es(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Xr(e,t,s){var a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,n;for(n=0;n<a;n++)Y(e[n])!==Y(t[n])&&i++;return i+r}function Vs(e,t){m(e,0,0,function(){var s=this.utcOffset(),a="+";return s<0&&(s=-s,a="-"),a+ne(~~(s/60),2)+t+ne(~~s%60,2)})}Vs("Z",":"),Vs("ZZ",""),h("Z",kt),h("ZZ",kt),F(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=ts(kt,e)});var Kr=/([\+\-]|\d\d)/gi;function ts(e,t){var s=(t||"").match(e),a,r,i;return s===null?null:(a=s[s.length-1]||[],r=(a+"").match(Kr)||["-",0,0],i=+(r[1]*60)+Y(r[2]),i===0?0:r[0]==="+"?i:-i)}function ss(e,t){var s,a;return t._isUTC?(s=t.clone(),a=(ie(e)||re(e)?e.valueOf():I(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+a),o.updateOffset(s,!1),s):I(e).local()}function as(e){return-Math.round(e._d.getTimezoneOffset())}o.updateOffset=function(){};function ei(e,t,s){var a=this._offset||0,r;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=ts(kt,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(r=as(this)),this._offset=e,this._isUTC=!0,r!=null&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?Us(this,ve(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:as(this)}function ti(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function si(e){return this.utcOffset(0,e)}function ai(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(as(this),"m")),this}function ri(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=ts(Ma,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ii(e){return this.isValid()?(e=e?I(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function ni(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function oi(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Ee(e,this),e=Ws(e),e._a?(t=e._isUTC?H(e._a):I(e._a),this._isDSTShifted=this.isValid()&&Xr(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function li(){return this.isValid()?!this._isUTC:!1}function ui(){return this.isValid()?this._isUTC:!1}function Ls(){return this.isValid()?this._isUTC&&this._offset===0:!1}var di=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ci=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ve(e,t){var s=e,a=null,r,i,n;return Tt(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:T(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(a=di.exec(e))?(r=a[1]==="-"?-1:1,s={y:0,d:Y(a[ke])*r,h:Y(a[te])*r,m:Y(a[ye])*r,s:Y(a[Ye])*r,ms:Y(es(a[Ue]*1e3))*r}):(a=ci.exec(e))?(r=a[1]==="-"?-1:1,s={y:Ae(a[2],r),M:Ae(a[3],r),w:Ae(a[4],r),d:Ae(a[5],r),h:Ae(a[6],r),m:Ae(a[7],r),s:Ae(a[8],r)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(n=fi(I(s.from),I(s.to)),s={},s.ms=n.milliseconds,s.M=n.months),i=new Ot(s),Tt(e)&&y(e,"_locale")&&(i._locale=e._locale),Tt(e)&&y(e,"_isValid")&&(i._isValid=e._isValid),i}ve.fn=Ot.prototype,ve.invalid=Qr;function Ae(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function Is(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function fi(e,t){var s;return e.isValid()&&t.isValid()?(t=ss(t,e),e.isBefore(t)?s=Is(e,t):(s=Is(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function Es(e,t){return function(s,a){var r,i;return a!==null&&!isNaN(+a)&&(b(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=s,s=a,a=i),r=ve(s,a),Us(this,r,e),this}}function Us(e,t,s,a){var r=t._milliseconds,i=es(t._days),n=es(t._months);e.isValid()&&(a=a??!0,n&&Ms(e,nt(e,"Month")+n*s),i&&gs(e,"Date",nt(e,"Date")+i*s),r&&e._d.setTime(e._d.valueOf()+r*s),a&&o.updateOffset(e,i||n))}var hi=Es(1,"add"),mi=Es(-1,"subtract");function As(e){return typeof e=="string"||e instanceof String}function _i(e){return ie(e)||re(e)||As(e)||T(e)||vi(e)||yi(e)||e===null||e===void 0}function yi(e){var t=V(e)&&!p(e),s=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,i,n=a.length;for(r=0;r<n;r+=1)i=a[r],s=s||y(e,i);return t&&s}function vi(e){var t=x(e),s=!1;return t&&(s=e.filter(function(a){return!T(a)&&As(e)}).length===0),t&&s}function pi(e){var t=V(e)&&!p(e),s=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,i;for(r=0;r<a.length;r+=1)i=a[r],s=s||y(e,i);return t&&s}function wi(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function gi(e,t){arguments.length===1&&(arguments[0]?_i(arguments[0])?(e=arguments[0],t=void 0):pi(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||I(),a=ss(s,this).startOf("day"),r=o.calendarFormat(this,a)||"sameElse",i=t&&(w(t[r])?t[r].call(this,s):t[r]);return this.format(i||this.localeData().calendar(r,this,I(s)))}function Di(){return new Me(this)}function ki(e,t){var s=ie(e)?e:I(e);return this.isValid()&&s.isValid()?(t=he(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function Mi(e,t){var s=ie(e)?e:I(e);return this.isValid()&&s.isValid()?(t=he(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function bi(e,t,s,a){var r=ie(e)?e:I(e),i=ie(t)?t:I(t);return this.isValid()&&r.isValid()&&i.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(r,s):!this.isBefore(r,s))&&(a[1]===")"?this.isBefore(i,s):!this.isAfter(i,s))):!1}function Si(e,t){var s=ie(e)?e:I(e),a;return this.isValid()&&s.isValid()?(t=he(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(a=s.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf())):!1}function Yi(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function xi(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Oi(e,t,s){var a,r,i;if(!this.isValid())return NaN;if(a=ss(e,this),!a.isValid())return NaN;switch(r=(a.utcOffset()-this.utcOffset())*6e4,t=he(t),t){case"year":i=Nt(this,a)/12;break;case"month":i=Nt(this,a);break;case"quarter":i=Nt(this,a)/3;break;case"second":i=(this-a)/1e3;break;case"minute":i=(this-a)/6e4;break;case"hour":i=(this-a)/36e5;break;case"day":i=(this-a-r)/864e5;break;case"week":i=(this-a-r)/6048e5;break;default:i=this-a}return s?i:me(i)}function Nt(e,t){if(e.date()<t.date())return-Nt(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),a=e.clone().add(s,"months"),r,i;return t-a<0?(r=e.clone().add(s-1,"months"),i=(t-a)/(a-r)):(r=e.clone().add(s+1,"months"),i=(t-a)/(r-a)),-(s+i)||0}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ti(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ni(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?vt(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):w(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",vt(s,"Z")):vt(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Pi(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,a,r,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(s+a+r+i)}function Ci(e){e||(e=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var t=vt(this,e);return this.localeData().postformat(t)}function Ri(e,t){return this.isValid()&&(ie(e)&&e.isValid()||I(e).isValid())?ve({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Wi(e){return this.from(I(),e)}function Fi(e,t){return this.isValid()&&(ie(e)&&e.isValid()||I(e).isValid())?ve({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Hi(e){return this.to(I(),e)}function $s(e){var t;return e===void 0?this._locale._abbr:(t=Oe(e),t!=null&&(this._locale=t),this)}var js=J("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Gs(){return this._locale}var Pt=1e3,Xe=60*Pt,Ct=60*Xe,zs=(365*400+97)*24*Ct;function Ke(e,t){return(e%t+t)%t}function Zs(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-zs:new Date(e,t,s).valueOf()}function qs(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-zs:Date.UTC(e,t,s)}function Vi(e){var t,s;if(e=he(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?qs:Zs,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ke(t+(this._isUTC?0:this.utcOffset()*Xe),Ct);break;case"minute":t=this._d.valueOf(),t-=Ke(t,Xe);break;case"second":t=this._d.valueOf(),t-=Ke(t,Pt);break}return this._d.setTime(t),o.updateOffset(this,!0),this}function Li(e){var t,s;if(e=he(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?qs:Zs,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ct-Ke(t+(this._isUTC?0:this.utcOffset()*Xe),Ct)-1;break;case"minute":t=this._d.valueOf(),t+=Xe-Ke(t,Xe)-1;break;case"second":t=this._d.valueOf(),t+=Pt-Ke(t,Pt)-1;break}return this._d.setTime(t),o.updateOffset(this,!0),this}function Ii(){return this._d.valueOf()-(this._offset||0)*6e4}function Ei(){return Math.floor(this.valueOf()/1e3)}function Ui(){return new Date(this.valueOf())}function Ai(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function $i(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function ji(){return this.isValid()?this.toISOString():null}function Gi(){return de(this)}function zi(){return R({},d(this))}function Zi(){return d(this).overflow}function qi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}m("N",0,0,"eraAbbr"),m("NN",0,0,"eraAbbr"),m("NNN",0,0,"eraAbbr"),m("NNNN",0,0,"eraName"),m("NNNNN",0,0,"eraNarrow"),m("y",["y",1],"yo","eraYear"),m("y",["yy",2],0,"eraYear"),m("y",["yyy",3],0,"eraYear"),m("y",["yyyy",4],0,"eraYear"),h("N",rs),h("NN",rs),h("NNN",rs),h("NNNN",nn),h("NNNNN",on),F(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,a){var r=s._locale.erasParse(e,a,s._strict);r?d(s).era=r:d(s).invalidEra=e}),h("y",qe),h("yy",qe),h("yyy",qe),h("yyyy",qe),h("yo",ln),F(["y","yy","yyy","yyyy"],oe),F(["yo"],function(e,t,s,a){var r;s._locale._eraYearOrdinalRegex&&(r=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[oe]=s._locale.eraYearOrdinalParse(e,r):t[oe]=parseInt(e,10)});function Bi(e,t){var s,a,r,i=this._eras||Oe("en")._eras;for(s=0,a=i.length;s<a;++s){switch(typeof i[s].since){case"string":r=o(i[s].since).startOf("day"),i[s].since=r.valueOf();break}switch(typeof i[s].until){case"undefined":i[s].until=1/0;break;case"string":r=o(i[s].until).startOf("day").valueOf(),i[s].until=r.valueOf();break}}return i}function Ji(e,t,s){var a,r,i=this.eras(),n,c,g;for(e=e.toUpperCase(),a=0,r=i.length;a<r;++a)if(n=i[a].name.toUpperCase(),c=i[a].abbr.toUpperCase(),g=i[a].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(c===e)return i[a];break;case"NNNN":if(n===e)return i[a];break;case"NNNNN":if(g===e)return i[a];break}else if([n,c,g].indexOf(e)>=0)return i[a]}function Qi(e,t){var s=e.since<=e.until?1:-1;return t===void 0?o(e.since).year():o(e.since).year()+(t-e.offset)*s}function Xi(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].name;return""}function Ki(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].narrow;return""}function en(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].abbr;return""}function tn(){var e,t,s,a,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=r[e].since<=r[e].until?1:-1,a=this.clone().startOf("day").valueOf(),r[e].since<=a&&a<=r[e].until||r[e].until<=a&&a<=r[e].since)return(this.year()-o(r[e].since).year())*s+r[e].offset;return this.year()}function sn(e){return y(this,"_erasNameRegex")||is.call(this),e?this._erasNameRegex:this._erasRegex}function an(e){return y(this,"_erasAbbrRegex")||is.call(this),e?this._erasAbbrRegex:this._erasRegex}function rn(e){return y(this,"_erasNarrowRegex")||is.call(this),e?this._erasNarrowRegex:this._erasRegex}function rs(e,t){return t.erasAbbrRegex(e)}function nn(e,t){return t.erasNameRegex(e)}function on(e,t){return t.erasNarrowRegex(e)}function ln(e,t){return t._eraYearOrdinalRegex||qe}function is(){var e=[],t=[],s=[],a=[],r,i,n,c,g,O=this.eras();for(r=0,i=O.length;r<i;++r)n=be(O[r].name),c=be(O[r].abbr),g=be(O[r].narrow),t.push(n),e.push(c),s.push(g),a.push(n),a.push(c),a.push(g);this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}m(0,["gg",2],0,function(){return this.weekYear()%100}),m(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Rt(e,t){m(0,[e,e.length],0,t)}Rt("gggg","weekYear"),Rt("ggggg","weekYear"),Rt("GGGG","isoWeekYear"),Rt("GGGGG","isoWeekYear"),h("G",Dt),h("g",Dt),h("GG",L,ue),h("gg",L,ue),h("GGGG",At,Ut),h("gggg",At,Ut),h("GGGGG",gt,pt),h("ggggg",gt,pt),rt(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,a){t[a.substr(0,2)]=Y(e)}),rt(["gg","GG"],function(e,t,s,a){t[a]=o.parseTwoDigitYear(e)});function un(e){return Bs.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function dn(e){return Bs.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function cn(){return xe(this.year(),1,4)}function fn(){return xe(this.isoWeekYear(),1,4)}function hn(){var e=this.localeData()._week;return xe(this.year(),e.dow,e.doy)}function mn(){var e=this.localeData()._week;return xe(this.weekYear(),e.dow,e.doy)}function Bs(e,t,s,a,r){var i;return e==null?lt(this,a,r).year:(i=xe(e,a,r),t>i&&(t=i),_n.call(this,e,t,s,a,r))}function _n(e,t,s,a,r){var i=Ys(e,t,s,a,r),n=ot(i.year,0,i.dayOfYear);return this.year(n.getUTCFullYear()),this.month(n.getUTCMonth()),this.date(n.getUTCDate()),this}m("Q",0,"Qo","quarter"),h("Q",_s),F("Q",function(e,t){t[Se]=(Y(e)-1)*3});function yn(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}m("D",["DD",2],"Do","date"),h("D",L,Be),h("DD",L,ue),h("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),F(["D","DD"],ke),F("Do",function(e,t){t[ke]=Y(e.match(L)[0])});var Js=Je("Date",!0);m("DDD",["DDDD",3],"DDDo","dayOfYear"),h("DDD",wt),h("DDDD",ys),F(["DDD","DDDD"],function(e,t,s){s._dayOfYear=Y(e)});function vn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}m("m",["mm",2],0,"minute"),h("m",L,$t),h("mm",L,ue),F(["m","mm"],ye);var pn=Je("Minutes",!1);m("s",["ss",2],0,"second"),h("s",L,$t),h("ss",L,ue),F(["s","ss"],Ye);var wn=Je("Seconds",!1);m("S",0,0,function(){return~~(this.millisecond()/100)}),m(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),m(0,["SSS",3],0,"millisecond"),m(0,["SSSS",4],0,function(){return this.millisecond()*10}),m(0,["SSSSS",5],0,function(){return this.millisecond()*100}),m(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),m(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),m(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),m(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),h("S",wt,_s),h("SS",wt,ue),h("SSS",wt,ys);var Ve,Qs;for(Ve="SSSS";Ve.length<=9;Ve+="S")h(Ve,qe);function gn(e,t){t[Ue]=Y(("0."+e)*1e3)}for(Ve="S";Ve.length<=9;Ve+="S")F(Ve,gn);Qs=Je("Milliseconds",!1),m("z",0,0,"zoneAbbr"),m("zz",0,0,"zoneName");function Dn(){return this._isUTC?"UTC":""}function kn(){return this._isUTC?"Coordinated Universal Time":""}var l=Me.prototype;l.add=hi,l.calendar=gi,l.clone=Di,l.diff=Oi,l.endOf=Li,l.format=Ci,l.from=Ri,l.fromNow=Wi,l.to=Fi,l.toNow=Hi,l.get=Pa,l.invalidAt=Zi,l.isAfter=ki,l.isBefore=Mi,l.isBetween=bi,l.isSame=Si,l.isSameOrAfter=Yi,l.isSameOrBefore=xi,l.isValid=Gi,l.lang=js,l.locale=$s,l.localeData=Gs,l.max=Gr,l.min=jr,l.parsingFlags=zi,l.set=Ca,l.startOf=Vi,l.subtract=mi,l.toArray=Ai,l.toObject=$i,l.toDate=Ui,l.toISOString=Ni,l.inspect=Pi,typeof Symbol<"u"&&Symbol.for!=null&&(l[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),l.toJSON=ji,l.toString=Ti,l.unix=Ei,l.valueOf=Ii,l.creationData=qi,l.eraName=Xi,l.eraNarrow=Ki,l.eraAbbr=en,l.eraYear=tn,l.year=ws,l.isLeapYear=Na,l.weekYear=un,l.isoWeekYear=dn,l.quarter=l.quarters=yn,l.month=bs,l.daysInMonth=Ua,l.week=l.weeks=Ba,l.isoWeek=l.isoWeeks=Ja,l.weeksInYear=hn,l.weeksInWeekYear=mn,l.isoWeeksInYear=cn,l.isoWeeksInISOWeekYear=fn,l.date=Js,l.day=l.days=ur,l.weekday=dr,l.isoWeekday=cr,l.dayOfYear=vn,l.hour=l.hours=pr,l.minute=l.minutes=pn,l.second=l.seconds=wn,l.millisecond=l.milliseconds=Qs,l.utcOffset=ei,l.utc=si,l.local=ai,l.parseZone=ri,l.hasAlignedHourOffset=ii,l.isDST=ni,l.isLocal=li,l.isUtcOffset=ui,l.isUtc=Ls,l.isUTC=Ls,l.zoneAbbr=Dn,l.zoneName=kn,l.dates=J("dates accessor is deprecated. Use date instead.",Js),l.months=J("months accessor is deprecated. Use month instead",bs),l.years=J("years accessor is deprecated. Use year instead",ws),l.zone=J("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ti),l.isDSTShifted=J("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",oi);function Mn(e){return I(e*1e3)}function bn(){return I.apply(null,arguments).parseZone()}function Xs(e){return e}var P=se.prototype;P.calendar=ge,P.longDateFormat=fa,P.invalidDate=ma,P.ordinal=va,P.preparse=Xs,P.postformat=Xs,P.relativeTime=wa,P.pastFuture=ga,P.set=S,P.eras=Bi,P.erasParse=Ji,P.erasConvertYear=Qi,P.erasAbbrRegex=an,P.erasNameRegex=sn,P.erasNarrowRegex=rn,P.months=Va,P.monthsShort=La,P.monthsParse=Ea,P.monthsRegex=$a,P.monthsShortRegex=Aa,P.week=Ga,P.firstDayOfYear=qa,P.firstDayOfWeek=Za,P.weekdays=rr,P.weekdaysMin=nr,P.weekdaysShort=ir,P.weekdaysParse=lr,P.weekdaysRegex=fr,P.weekdaysShortRegex=hr,P.weekdaysMinRegex=mr,P.isPM=yr,P.meridiem=wr;function Wt(e,t,s,a){var r=Oe(),i=H().set(a,t);return r[s](i,e)}function Ks(e,t,s){if(T(e)&&(t=e,e=void 0),e=e||"",t!=null)return Wt(e,t,s,"month");var a,r=[];for(a=0;a<12;a++)r[a]=Wt(e,a,s,"month");return r}function ns(e,t,s,a){typeof e=="boolean"?(T(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,T(t)&&(s=t,t=void 0),t=t||"");var r=Oe(),i=e?r._week.dow:0,n,c=[];if(s!=null)return Wt(t,(s+i)%7,a,"day");for(n=0;n<7;n++)c[n]=Wt(t,(n+i)%7,a,"day");return c}function Sn(e,t){return Ks(e,t,"months")}function Yn(e,t){return Ks(e,t,"monthsShort")}function xn(e,t,s){return ns(e,t,s,"weekdays")}function On(e,t,s){return ns(e,t,s,"weekdaysShort")}function Tn(e,t,s){return ns(e,t,s,"weekdaysMin")}He("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=Y(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}}),o.lang=J("moment.lang is deprecated. Use moment.locale instead.",He),o.langData=J("moment.langData is deprecated. Use moment.localeData instead.",Oe);var Te=Math.abs;function Nn(){var e=this._data;return this._milliseconds=Te(this._milliseconds),this._days=Te(this._days),this._months=Te(this._months),e.milliseconds=Te(e.milliseconds),e.seconds=Te(e.seconds),e.minutes=Te(e.minutes),e.hours=Te(e.hours),e.months=Te(e.months),e.years=Te(e.years),this}function ea(e,t,s,a){var r=ve(t,s);return e._milliseconds+=a*r._milliseconds,e._days+=a*r._days,e._months+=a*r._months,e._bubble()}function Pn(e,t){return ea(this,e,t,1)}function Cn(e,t){return ea(this,e,t,-1)}function ta(e){return e<0?Math.floor(e):Math.ceil(e)}function Rn(){var e=this._milliseconds,t=this._days,s=this._months,a=this._data,r,i,n,c,g;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=ta(os(s)+t)*864e5,t=0,s=0),a.milliseconds=e%1e3,r=me(e/1e3),a.seconds=r%60,i=me(r/60),a.minutes=i%60,n=me(i/60),a.hours=n%24,t+=me(n/24),g=me(sa(t)),s+=g,t-=ta(os(g)),c=me(s/12),s%=12,a.days=t,a.months=s,a.years=c,this}function sa(e){return e*4800/146097}function os(e){return e*146097/4800}function Wn(e){if(!this.isValid())return NaN;var t,s,a=this._milliseconds;if(e=he(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+a/864e5,s=this._months+sa(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(os(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return t*24+a/36e5;case"minute":return t*1440+a/6e4;case"second":return t*86400+a/1e3;case"millisecond":return Math.floor(t*864e5)+a;default:throw new Error("Unknown unit "+e)}}function Ne(e){return function(){return this.as(e)}}var aa=Ne("ms"),Fn=Ne("s"),Hn=Ne("m"),Vn=Ne("h"),Ln=Ne("d"),In=Ne("w"),En=Ne("M"),Un=Ne("Q"),An=Ne("y"),$n=aa;function jn(){return ve(this)}function Gn(e){return e=he(e),this.isValid()?this[e+"s"]():NaN}function $e(e){return function(){return this.isValid()?this._data[e]:NaN}}var zn=$e("milliseconds"),Zn=$e("seconds"),qn=$e("minutes"),Bn=$e("hours"),Jn=$e("days"),Qn=$e("months"),Xn=$e("years");function Kn(){return me(this.days()/7)}var Pe=Math.round,et={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function eo(e,t,s,a,r){return r.relativeTime(t||1,!!s,e,a)}function to(e,t,s,a){var r=ve(e).abs(),i=Pe(r.as("s")),n=Pe(r.as("m")),c=Pe(r.as("h")),g=Pe(r.as("d")),O=Pe(r.as("M")),le=Pe(r.as("w")),Ce=Pe(r.as("y")),Le=i<=s.ss&&["s",i]||i<s.s&&["ss",i]||n<=1&&["m"]||n<s.m&&["mm",n]||c<=1&&["h"]||c<s.h&&["hh",c]||g<=1&&["d"]||g<s.d&&["dd",g];return s.w!=null&&(Le=Le||le<=1&&["w"]||le<s.w&&["ww",le]),Le=Le||O<=1&&["M"]||O<s.M&&["MM",O]||Ce<=1&&["y"]||["yy",Ce],Le[2]=t,Le[3]=+e>0,Le[4]=a,eo.apply(null,Le)}function so(e){return e===void 0?Pe:typeof e=="function"?(Pe=e,!0):!1}function ao(e,t){return et[e]===void 0?!1:t===void 0?et[e]:(et[e]=t,e==="s"&&(et.ss=t-1),!0)}function ro(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,a=et,r,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(a=Object.assign({},et,t),t.s!=null&&t.ss==null&&(a.ss=t.s-1)),r=this.localeData(),i=to(this,!s,a,r),s&&(i=r.pastFuture(+this,i)),r.postformat(i)}var ls=Math.abs;function tt(e){return(e>0)-(e<0)||+e}function Ft(){if(!this.isValid())return this.localeData().invalidDate();var e=ls(this._milliseconds)/1e3,t=ls(this._days),s=ls(this._months),a,r,i,n,c=this.asSeconds(),g,O,le,Ce;return c?(a=me(e/60),r=me(a/60),e%=60,a%=60,i=me(s/12),s%=12,n=e?e.toFixed(3).replace(/\.?0+$/,""):"",g=c<0?"-":"",O=tt(this._months)!==tt(c)?"-":"",le=tt(this._days)!==tt(c)?"-":"",Ce=tt(this._milliseconds)!==tt(c)?"-":"",g+"P"+(i?O+i+"Y":"")+(s?O+s+"M":"")+(t?le+t+"D":"")+(r||a||e?"T":"")+(r?Ce+r+"H":"")+(a?Ce+a+"M":"")+(e?Ce+n+"S":"")):"P0D"}var N=Ot.prototype;N.isValid=Jr,N.abs=Nn,N.add=Pn,N.subtract=Cn,N.as=Wn,N.asMilliseconds=aa,N.asSeconds=Fn,N.asMinutes=Hn,N.asHours=Vn,N.asDays=Ln,N.asWeeks=In,N.asMonths=En,N.asQuarters=Un,N.asYears=An,N.valueOf=$n,N._bubble=Rn,N.clone=jn,N.get=Gn,N.milliseconds=zn,N.seconds=Zn,N.minutes=qn,N.hours=Bn,N.days=Jn,N.weeks=Kn,N.months=Qn,N.years=Xn,N.humanize=ro,N.toISOString=Ft,N.toString=Ft,N.toJSON=Ft,N.locale=$s,N.localeData=Gs,N.toIsoString=J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ft),N.lang=js,m("X",0,0,"unix"),m("x",0,0,"valueOf"),h("x",Dt),h("X",ba),F("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)}),F("x",function(e,t,s){s._d=new Date(Y(e))});//! moment.js
return o.version="2.30.1",$(I),o.fn=l,o.min=zr,o.max=Zr,o.now=qr,o.utc=H,o.unix=Mn,o.months=Sn,o.isDate=re,o.locale=He,o.invalid=pe,o.duration=ve,o.isMoment=ie,o.weekdays=xn,o.parseZone=bn,o.localeData=Oe,o.isDuration=Tt,o.monthsShort=Yn,o.weekdaysMin=Tn,o.defineLocale=Bt,o.updateLocale=Mr,o.locales=br,o.weekdaysShort=On,o.normalizeUnits=he,o.relativeTimeRounding=so,o.relativeTimeThreshold=ao,o.calendarFormat=wi,o.prototype=l,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o})}(us)),us.exports}(function(A,ee){(function(v,o){o(typeof da=="function"?Ko():v.moment)})(ua,function(v){//! moment.js locale configuration
var o="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),$="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),x=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],V=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,y=v.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(p,u){return p?/-MMM-/.test(u)?$[p.month()]:o[p.month()]:o},monthsRegex:V,monthsShortRegex:V,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4},invalidDate:"Fecha inválida"});return y})})();const el={class:"paso4-container"},tl={class:"text-center mb-6"},sl={class:"mb-3"},al={class:"text-body-1 font-weight-medium"},rl={class:"mb-3"},il={class:"text-body-1 font-weight-medium"},nl={class:"mb-3"},ol={class:"text-body-1 font-weight-medium"},ll={key:0,class:"mb-3"},ul={class:"text-body-1 font-weight-medium"},dl={class:"mb-3"},cl={class:"text-body-1 font-weight-medium"},fl={class:"mb-3"},hl={class:"text-body-1 font-weight-medium"},ml={class:"mb-3"},_l={class:"text-body-1 font-weight-medium"},yl={class:"mb-3"},vl={class:"text-body-1 font-weight-medium"},pl={class:"mb-3"},wl={class:"text-body-1 font-weight-medium"},gl={class:"mb-4"},Dl={class:"text-primary font-weight-medium"},kl={class:"d-flex justify-space-between align-center"},Ml={class:"text-h5 text-primary font-weight-bold"},bl={class:"text-center"},Sl={__name:"Paso4Resumen",props:{citaData:{type:Object,required:!0}},emits:["volver-inicio"],setup(A,{emit:ee}){cs(()=>{C.locale("es")});const v=A,o=st(()=>{if(!v.citaData.fecha)return"-";C.locale("es");const p=C(v.citaData.fecha);return p.isValid()?p.format("dddd, D [de] MMMM [de] YYYY"):"-"}),$=st(()=>{if(!v.citaData.horario)return"-";C.locale("es");const p=["HH:mm","H:mm","h:mm A","h:mmA","HH:mm:ss","H:mm:ss"];let u=null;for(const T of p)if(u=C(v.citaData.horario,T,!0),u.isValid())break;return u&&u.isValid()?u.format("HH:mm"):v.citaData.horario}),x=st(()=>!v.citaData.servicios||v.citaData.servicios.length===0?0:v.citaData.servicios.reduce((p,u)=>p+(u.duracion||60),0)),V=st(()=>{if(!v.citaData.servicios||v.citaData.servicios.length===0)return y(0);const p=v.citaData.servicios.reduce((u,T)=>u+(T.precio||0),0);return y(p)}),y=p=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(p);return(p,u)=>(W(),K("div",el,[f("div",tl,[_(ze,{icon:"ri-checkbox-circle-fill",size:"64",color:"success",class:"mb-4"}),u[1]||(u[1]=f("h2",{class:"text-h4 mb-2"},"¡Cita Confirmada!",-1)),u[2]||(u[2]=f("p",{class:"text-body-1 text-medium-emphasis"}," Tu cita se ha creado correctamente. En breve recibirás un email de confirmación. ",-1))]),_(_t,{class:"mb-6"},{default:k(()=>[_(lo,{class:"d-flex align-center"},{default:k(()=>[_(ze,{icon:"ri-calendar-event-line",class:"me-2"}),u[3]||(u[3]=_e(" Resumen de la Cita "))]),_:1}),_(Vt),_(yt,null,{default:k(()=>[_(Lt,null,{default:k(()=>[_(Ie,{cols:"12",md:"6"},{default:k(()=>{var T,re,E;return[u[8]||(u[8]=f("h3",{class:"text-h6 mb-4"},"Datos del Cliente",-1)),f("div",sl,[u[4]||(u[4]=f("p",{class:"text-body-2 text-medium-emphasis mb-1"},"Nombre",-1)),f("p",al,z((T=A.citaData.cliente)==null?void 0:T.nombre),1)]),f("div",rl,[u[5]||(u[5]=f("p",{class:"text-body-2 text-medium-emphasis mb-1"},"Email",-1)),f("p",il,z((re=A.citaData.cliente)==null?void 0:re.email),1)]),f("div",nl,[u[6]||(u[6]=f("p",{class:"text-body-2 text-medium-emphasis mb-1"},"Teléfono",-1)),f("p",ol,z((E=A.citaData.cliente)==null?void 0:E.telefono),1)]),A.citaData.comentario?(W(),K("div",ll,[u[7]||(u[7]=f("p",{class:"text-body-2 text-medium-emphasis mb-1"},"Comentario",-1)),f("p",ul,z(A.citaData.comentario),1)])):We("",!0)]}),_:1}),_(Ie,{cols:"12",md:"6"},{default:k(()=>[u[14]||(u[14]=f("h3",{class:"text-h6 mb-4"},"Detalles de la Cita",-1)),f("div",dl,[u[9]||(u[9]=f("p",{class:"text-body-2 text-medium-emphasis mb-1"},"Fecha",-1)),f("p",cl,z(o.value),1)]),f("div",fl,[u[10]||(u[10]=f("p",{class:"text-body-2 text-medium-emphasis mb-1"},"Hora",-1)),f("p",hl,z($.value),1)]),f("div",ml,[u[11]||(u[11]=f("p",{class:"text-body-2 text-medium-emphasis mb-1"},"Empleado",-1)),f("p",_l,z(A.citaData.empleadoNombre),1)]),f("div",yl,[u[12]||(u[12]=f("p",{class:"text-body-2 text-medium-emphasis mb-1"},"Tienda",-1)),f("p",vl,z(A.citaData.tiendaNombre),1)]),f("div",pl,[u[13]||(u[13]=f("p",{class:"text-body-2 text-medium-emphasis mb-1"},"Duración",-1)),f("p",wl,z(x.value)+" minutos",1)])]),_:1})]),_:1}),_(Vt,{class:"my-4"}),f("div",gl,[u[15]||(u[15]=f("h3",{class:"text-h6 mb-3"},"Servicios",-1)),_(yo,null,{default:k(()=>[(W(!0),K(ft,null,ht(A.citaData.servicios,T=>(W(),Re(vo,{key:T.id,class:"px-0"},{default:k(()=>[_(po,{class:"d-flex justify-space-between align-center"},{default:k(()=>[f("span",null,z(T.nombre),1),f("span",Dl,z(y(T.precio)),1)]),_:2},1024),_(wo,null,{default:k(()=>[_e(" Duración: "+z(T.duracion)+" min ",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_(Vt,{class:"my-4"}),f("div",kl,[u[16]||(u[16]=f("h3",{class:"text-h6"},"Total",-1)),f("h3",Ml,z(V.value),1)])]),_:1})]),_:1}),f("div",bl,[_(Fe,{color:"primary",size:"large",onClick:u[0]||(u[0]=T=>p.$emit("volver-inicio"))},{default:k(()=>u[17]||(u[17]=[_e(" Volver al Inicio ")])),_:1})])]))}},Yl=mt(Sl,[["__scopeId","data-v-8cffda8b"]]),xl={class:"solicitar-cita-container"},Ol={__name:"solicitar-cita",setup(A){const ee=G(1),v=G({servicios:[],fecha:null,horario:null,empleado:null,tienda:null,observacionesUsuario:null}),o=G({cliente:null,servicios:[],fecha:null,horario:null,empleadoNombre:null,tiendaNombre:null,comentario:null}),$=p=>{v.value.servicios=p,ee.value=2},x=p=>{v.value.fecha=p.fecha,v.value.horario=p.horario,v.value.empleado=p.empleado,v.value.tienda=p.tienda,ee.value=3},V=p=>{o.value={cliente:p.cliente,servicios:v.value.servicios,fecha:v.value.fecha,horario:v.value.horario,empleadoNombre:p.empleadoNombre,tiendaNombre:p.tiendaNombre,comentario:v.value.observacionesUsuario},ee.value=4},y=()=>{v.value={servicios:[],fecha:null,horario:null,empleado:null,tienda:null,observacionesUsuario:null},o.value={cliente:null,servicios:[],fecha:null,horario:null,empleadoNombre:null,tiendaNombre:null,comentario:null},ee.value=1};return(p,u)=>(W(),K("div",xl,[_(go,null,{default:k(()=>[_(_t,null,{default:k(()=>[_(yt,null,{default:k(()=>[je(ee)===1?(W(),Re(Co,{key:0,onContinuar:$})):We("",!0),je(ee)===2?(W(),Re(qo,{key:1,"servicios-seleccionados":je(v).servicios,onContinuar:x,onAtras:u[0]||(u[0]=T=>ee.value=1)},null,8,["servicios-seleccionados"])):We("",!0),je(ee)===3?(W(),Re(Xo,{key:2,"form-data":je(v),"payment-active":!1,onAtras:u[1]||(u[1]=T=>ee.value=2),onCitaGuardada:V},null,8,["form-data"])):We("",!0),je(ee)===4?(W(),Re(Yl,{key:3,"cita-data":je(o),onVolverInicio:y},null,8,["cita-data"])):We("",!0)]),_:1})]),_:1})]),_:1})]))}},du=mt(Ol,[["__scopeId","data-v-f9d45699"]]);export{du as default};
