import{fb as L,r as m,w as y,a as R,o as V,f as C,e as a,b as s,n as r,ag as I,f4 as _,d as o,a0 as h,L as g,c as F,F as K,i as U,A as u,v as N,x as b,M as v}from"./main-DXTHM_Z4.js";import{P as M}from"./vue3-perfect-scrollbar.esm-CQjiEb9s.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as T}from"./VCard-BBjecQUS.js";import{V as D}from"./VCardText-DGP4d7zZ.js";import{V as j}from"./VTextField-BfMLnCIA.js";import{V as q}from"./VDivider-CVdsTcIK.js";import{V as z,a as E}from"./VList-5epMYaPo.js";import{V as O}from"./VDialog-BXZSKyZJ.js";import"./VAvatar-QubjHI1z.js";import"./VImg-DTTLi8N3.js";/* empty css                   */import"./VCounter-CfjE-LQa.js";import"./VField-B2YWi8oL.js";import"./form-ijrz4ipO.js";import"./VInput-BZH6jw62.js";import"./ssrBoot-BzQpit4r.js";import"./dialog-transition-CqXIoDZd.js";const Q={class:"d-flex align-center text-high-emphasis me-1"},X={class:"d-flex align-start"},G={class:"h-100"},H={class:"h-100"},J={class:"app-bar-search-suggestions d-flex flex-column align-center justify-center text-high-emphasis pa-12"},W={class:"d-flex align-center flex-wrap justify-center gap-2 text-h5 my-3"},Y={__name:"AppBarSearch",props:{isDialogVisible:{type:Boolean,required:!0},searchResults:{type:Array,required:!0}},emits:["update:isDialogVisible","search"],setup(k,{emit:w}){const l=k,d=w,{ctrl_k:x,meta_k:S}=L({passive:!1,onEventFired(e){e.ctrlKey&&e.key==="k"&&e.type==="keydown"&&e.preventDefault()}}),f=m(),$=m(),t=m("");y([x,S],()=>{d("update:isDialogVisible",!0)});const c=()=>{t.value="",d("update:isDialogVisible",!1)},B=e=>{var i,p;e.key==="ArrowDown"?(e.preventDefault(),(i=f.value)==null||i.focus("next")):e.key==="ArrowUp"&&(e.preventDefault(),(p=f.value)==null||p.focus("prev"))},A=e=>{t.value="",d("update:isDialogVisible",e)};return y(()=>l.isDialogVisible,()=>{t.value=""}),(e,i)=>{const p=R("IconBtn");return V(),C(O,{"max-width":"600","model-value":l.isDialogVisible,height:e.$vuetify.display.smAndUp?"537":"100%",fullscreen:e.$vuetify.display.width<600,class:"app-bar-search-dialog","onUpdate:modelValue":A,onKeyup:_(c,["esc"])},{default:a(()=>[s(T,{height:"100%",width:"100%",class:"position-relative"},{default:a(()=>[s(D,{class:"py-3 px-4"},{default:a(()=>[s(j,{ref_key:"refSearchInput",ref:$,modelValue:r(t),"onUpdate:modelValue":[i[0]||(i[0]=n=>I(t)?t.value=n:null),i[1]||(i[1]=n=>e.$emit("search",r(t)))],autofocus:"",density:"compact",variant:"plain",class:"app-bar-search-input",onKeyup:_(c,["esc"]),onKeydown:B},{"prepend-inner":a(()=>[o("div",Q,[s(h,{size:"24",icon:"ri-search-line",style:{"margin-block-start":"1px",opacity:"1"}})])]),"append-inner":a(()=>[o("div",X,[o("div",{class:"text-base text-disabled cursor-pointer me-1",onClick:c}," [esc] "),s(p,{class:"mt-n2",color:"medium-emphasis",onClick:c},{default:a(()=>[s(h,{icon:"ri-close-line"})]),_:1})])]),_:1},8,["modelValue"])]),_:1}),s(q),s(r(M),{options:{wheelPropagation:!1,suppressScrollX:!0},class:"h-100"},{default:a(()=>[g(s(r(z),{ref_key:"refSearchList",ref:f,density:"compact",class:"app-bar-search-list py-0"},{default:a(()=>[(V(!0),F(K,null,U(l.searchResults,n=>u(e.$slots,"searchResult",{key:n,item:n},()=>[s(r(E),null,{default:a(()=>[N(b(n),1)]),_:2},1024)],!0)),128))]),_:3},512),[[v,r(t).length&&!!l.searchResults.length]]),g(o("div",G,[u(e.$slots,"suggestions",{},void 0,!0)],512),[[v,!!l.searchResults&&!r(t)&&e.$slots.suggestions]]),g(o("div",H,[u(e.$slots,"noData",{},()=>[s(D,{class:"h-100"},{default:a(()=>[o("div",J,[s(h,{size:"64",icon:"ri-file-forbid-line"}),o("div",W,[i[2]||(i[2]=o("span",null,"No Result For ",-1)),o("span",null,'"'+b(r(t))+'"',1)]),u(e.$slots,"noDataSuggestion",{},void 0,!0)])]),_:3})],!0)],512),[[v,!l.searchResults.length&&r(t).length]])]),_:3})]),_:3})]),_:3},8,["model-value","height","fullscreen"])}}},ve=P(Y,[["__scopeId","data-v-6da13f6e"]]);export{ve as default};
