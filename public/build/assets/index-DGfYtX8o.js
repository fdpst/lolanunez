import{p as L}from"./paginationMeta-BbY5dJ0C.js";import{r as v,e as _}from"./validators-CrSGMxiT.js";import{r as n,o as O,f as j,e as o,b as l,n as t,am as E,d as s,ag as u,af as k,v as b,at as R,a6 as $,c as z,x as w,a as H}from"./main-BwDGDDDW.js";import{_ as J}from"./AppDrawerHeaderSection-Dm2jDqJm.js";import{P as K}from"./vue3-perfect-scrollbar.esm-BA1GFVP8.js";import{V as M}from"./VDivider-PVfbuN4-.js";import{V as F}from"./VCardText-BKkdmkn-.js";import{V as Q}from"./VForm-DbaU_ACV.js";import{V as Y,a as p}from"./VRow-DJH2tZVu.js";import{V as c}from"./VTextField-DqZOZREA.js";import{V as T}from"./VSelect-Cdsnm3mB.js";import{V as G}from"./VSwitch-CcqgvTMM.js";import{V as I}from"./VCard-Cpw0jw9u.js";import{V as W}from"./VNavigationDrawer-DiCpI_FT.js";import{u as X}from"./useApi-Cv1dvmBl.js";import{c as Z}from"./createUrl-BTFClk8I.js";import{V as ee}from"./VDataTableServer-BLeqennM.js";import{V as le}from"./VAvatar-DYn3is-W.js";import"./helpers-DK5QwNv0.js";import"./VSpacer-xWNtBUsj.js";/* empty css              */import"./form-BEvPHhJ7.js";/* empty css                   */import"./VCounter-IA5S7b1U.js";import"./VField-5sqsN37e.js";import"./VInput-CVFVwJKu.js";import"./VImg-BYy41-F9.js";import"./VList-CLtMWoGj.js";import"./ssrBoot-B7QpyNAy.js";import"./dialog-transition-GiYjLY5n.js";import"./VMenu-BWP2lKbi.js";import"./VCheckboxBtn-CuvLREeJ.js";import"./VSelectionControl-D0_t5DTC.js";import"./VChip-CXCzEWTC.js";import"./index-9rIf2CJL.js";import"./VDataTable-B4BcEe_U.js";import"./VPagination-DIhj3juL.js";import"./VTable-CK8MMDdB.js";import"./filter-B9tzeaPh.js";const te={class:"d-flex justify-space-between"},ae={class:"d-flex justify-start"},oe={__name:"ECommerceAddCustomerDrawer",props:{isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen"],setup(P,{emit:x}){const B=P,g=x,y=e=>{g("update:isDrawerOpen",e)},m=n(),d=n(),h=n(),C=n(),D=n(),S=n(),U=n(),A=n(),V=n(),f=n(),r=n(!1),q=()=>{var e;(e=m.value)==null||e.reset(),g("update:isDrawerOpen",!1)};return(e,a)=>{const N=J;return O(),j(W,{"model-value":B.isDrawerOpen,temporary:"",location:"end",width:"370","onUpdate:modelValue":y},{default:o(()=>[l(N,{title:"Add a Customer",onCancel:a[0]||(a[0]=i=>e.$emit("update:isDrawerOpen",!1))}),l(M),l(I,{flat:""},{default:o(()=>[l(t(K),{options:{wheelPropagation:!1},class:"h-100"},{default:o(()=>[l(F,{style:{"block-size":"calc(100vh - 5rem)"}},{default:o(()=>[l(t(Q),{ref_key:"refVForm",ref:m,onSubmit:a[11]||(a[11]=E(()=>{},["prevent"]))},{default:o(()=>[l(Y,null,{default:o(()=>[l(p,null,{default:o(()=>a[12]||(a[12]=[s("div",{class:"text-body-1 font-weight-medium text-high-emphasis"}," Basic Information ",-1)])),_:1}),l(p,{cols:"12"},{default:o(()=>[l(c,{modelValue:t(d),"onUpdate:modelValue":a[1]||(a[1]=i=>u(d)?d.value=i:null),label:"Full Name",rules:["requiredValidator"in e?e.requiredValidator:t(v)],placeholder:"John Doe"},null,8,["modelValue","rules"])]),_:1}),l(p,{cols:"12"},{default:o(()=>[l(c,{modelValue:t(h),"onUpdate:modelValue":a[2]||(a[2]=i=>u(h)?h.value=i:null),label:"Email Address",rules:["requiredValidator"in e?e.requiredValidator:t(v),"emailValidator"in e?e.emailValidator:t(_)],placeholder:"johndoe@email.com"},null,8,["modelValue","rules"])]),_:1}),l(p,{cols:"12"},{default:o(()=>[l(c,{modelValue:t(C),"onUpdate:modelValue":a[3]||(a[3]=i=>u(C)?C.value=i:null),label:"Mobile Number",type:"number",rules:["requiredValidator"in e?e.requiredValidator:t(v)],placeholder:"+(123) 456-7890"},null,8,["modelValue","rules"])]),_:1}),l(p,null,{default:o(()=>a[13]||(a[13]=[s("div",{class:"text-body-1 font-weight-medium text-high-emphasis"}," Shipping Information ",-1)])),_:1}),l(p,{cols:"12"},{default:o(()=>[l(c,{modelValue:t(D),"onUpdate:modelValue":a[4]||(a[4]=i=>u(D)?D.value=i:null),label:"Address Line 1*",rules:["requiredValidator"in e?e.requiredValidator:t(v)],placeholder:"45, Rocker Terrace"},null,8,["modelValue","rules"])]),_:1}),l(p,{cols:"12"},{default:o(()=>[l(c,{modelValue:t(S),"onUpdate:modelValue":a[5]||(a[5]=i=>u(S)?S.value=i:null),placeholder:"Empire Heights,",rules:["requiredValidator"in e?e.requiredValidator:t(v)],label:"Address Line 2*"},null,8,["modelValue","rules"])]),_:1}),l(p,{cols:"12"},{default:o(()=>[l(c,{modelValue:t(U),"onUpdate:modelValue":a[6]||(a[6]=i=>u(U)?U.value=i:null),label:"Town*",rules:["requiredValidator"in e?e.requiredValidator:t(v)],placeholder:"New York"},null,8,["modelValue","rules"])]),_:1}),l(p,{cols:"12"},{default:o(()=>[l(c,{modelValue:t(A),"onUpdate:modelValue":a[7]||(a[7]=i=>u(A)?A.value=i:null),placeholder:"Texas",rules:["requiredValidator"in e?e.requiredValidator:t(v)],label:"State/Province*"},null,8,["modelValue","rules"])]),_:1}),l(p,{cols:"12"},{default:o(()=>[l(c,{modelValue:t(V),"onUpdate:modelValue":a[8]||(a[8]=i=>u(V)?V.value=i:null),label:"Post Code*",type:"number",rules:["requiredValidator"in e?e.requiredValidator:t(v)],placeholder:"982347"},null,8,["modelValue","rules"])]),_:1}),l(p,{cols:"12"},{default:o(()=>[l(T,{modelValue:t(f),"onUpdate:modelValue":a[9]||(a[9]=i=>u(f)?f.value=i:null),placeholder:"United States",rules:["requiredValidator"in e?e.requiredValidator:t(v)],label:"Country",items:["United States","United Kingdom","Canada"]},null,8,["modelValue","rules"])]),_:1}),l(p,{cols:"12"},{default:o(()=>[s("div",te,[a[14]||(a[14]=s("div",{class:"d-flex flex-column gap-y-1"},[s("h6",{class:"text-h6"}," Use as a billing address? "),s("span",{class:"text-sm"},"Please check budget for more info")],-1)),l(G,{modelValue:t(r),"onUpdate:modelValue":a[10]||(a[10]=i=>u(r)?r.value=i:null)},null,8,["modelValue"])])]),_:1}),l(p,{cols:"12"},{default:o(()=>[s("div",ae,[l(k,{type:"submit",color:"primary",class:"me-4"},{default:o(()=>a[15]||(a[15]=[b(" Add ")])),_:1}),l(k,{color:"error",variant:"outlined",onClick:q},{default:o(()=>a[16]||(a[16]=[b(" Discard ")])),_:1})])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},re={class:"d-flex justify-space-between flex-wrap gap-y-4"},se={class:"d-flex flex-row gap-4 align-center flex-wrap"},ie={class:"d-flex align-center gap-x-3"},de={class:"d-flex flex-column"},ne={class:"text-sm"},ue={class:"text-h6 font-weight-regular"},me={class:"d-flex gap-x-2"},pe=["src"],fe={class:"text-body-1"},Ve={class:"text-h6"},ve={class:"d-flex justify-end flex-wrap gap-x-6 px-2 py-1"},ce={class:"d-flex align-center gap-x-2 text-medium-emphasis text-base"},ge={class:"d-flex align-center text-base text-high-emphasis me-2 mb-0"},ye={class:"d-flex gap-x-2 align-center me-2"},ol={__name:"index",async setup(P){let x,B;const g=n(""),y=n(!1),m=n(10),d=n(1),h=n(),C=n(),D=[{title:"Customer",key:"customer"},{title:"Customer Id",key:"customerId"},{title:"Country",key:"country"},{title:"Orders",key:"orders"},{title:"Total Spent",key:"totalSpent"}],S=f=>{var r,q;d.value=f.page,h.value=(r=f.sortBy[0])==null?void 0:r.key,C.value=(q=f.sortBy[0])==null?void 0:q.order},{data:U}=([x,B]=R(()=>X(Z("/apps/ecommerce/customers",{query:{q:g,itemsPerPage:m,page:d,sortBy:h,orderBy:C}}))),x=await x,B(),x),A=$(()=>U.value.customers),V=$(()=>U.value.total);return(f,r)=>{const q=H("RouterLink");return O(),z("div",null,[l(I,null,{default:o(()=>[l(F,null,{default:o(()=>[s("div",re,[l(c,{modelValue:t(g),"onUpdate:modelValue":r[0]||(r[0]=e=>u(g)?g.value=e:null),style:{"max-inline-size":"200px","min-inline-size":"200px"},density:"compact",placeholder:"Search .."},null,8,["modelValue"]),s("div",se,[l(k,{"prepend-icon":"ri-upload-2-line",variant:"outlined",color:"secondary"},{default:o(()=>r[8]||(r[8]=[b(" Export ")])),_:1}),l(k,{"prepend-icon":"ri-add-line",onClick:r[1]||(r[1]=e=>y.value=!t(y))},{default:o(()=>r[9]||(r[9]=[b(" Add Customer ")])),_:1})])])]),_:1}),l(ee,{"items-per-page":t(m),"onUpdate:itemsPerPage":r[5]||(r[5]=e=>u(m)?m.value=e:null),page:t(d),"onUpdate:page":r[6]||(r[6]=e=>u(d)?d.value=e:null),items:t(A),"item-value":"customer",headers:D,"items-length":t(V),"show-select":"",class:"text-no-wrap","onUpdate:options":S},{"item.customer":o(({item:e})=>[s("div",ie,[l(le,{size:"34",image:e.avatar},null,8,["image"]),s("div",de,[l(q,{to:{name:"apps-ecommerce-customer-details-id",params:{id:e.customerId}},class:"text-h6 font-weight-medium"},{default:o(()=>[b(w(e.customer),1)]),_:2},1032,["to"]),s("span",ne,w(e.email),1)])])]),"item.customerId":o(({item:e})=>[s("h6",ue," #"+w(e.customerId),1)]),"item.orders":o(({item:e})=>[b(w(e.order),1)]),"item.country":o(({item:e})=>[s("div",me,[s("img",{src:e.countryFlag,height:"22",width:"22"},null,8,pe),s("span",fe,w(e.country),1)])]),"item.totalSpent":o(({item:e})=>[s("h6",Ve," $"+w(e.totalSpent),1)]),bottom:o(()=>[l(M),s("div",ve,[s("div",ce,[r[10]||(r[10]=b(" Filas por pÃ¡gina: ")),l(T,{modelValue:t(m),"onUpdate:modelValue":r[2]||(r[2]=e=>u(m)?m.value=e:null),class:"per-page-select",variant:"plain",items:[10,20,25,50,100]},null,8,["modelValue"])]),s("p",ge,w(("paginationMeta"in f?f.paginationMeta:t(L))({page:t(d),itemsPerPage:t(m)},t(V))),1),s("div",ye,[l(k,{class:"flip-in-rtl",icon:"ri-arrow-left-s-line",variant:"text",density:"comfortable",color:"high-emphasis",disabled:t(d)<=1,onClick:r[3]||(r[3]=e=>t(d)<=1?d.value=1:d.value--)},null,8,["disabled"]),l(k,{class:"flip-in-rtl",icon:"ri-arrow-right-s-line",density:"comfortable",variant:"text",color:"high-emphasis",disabled:t(d)>=Math.ceil(t(V)/t(m)),onClick:r[4]||(r[4]=e=>t(d)>=Math.ceil(t(V)/t(m))?d.value=Math.ceil(t(V)/t(m)):d.value++)},null,8,["disabled"])])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),l(oe,{"is-drawer-open":t(y),"onUpdate:isDrawerOpen":r[7]||(r[7]=e=>u(y)?y.value=e:null)},null,8,["is-drawer-open"])])}}};export{ol as default};
