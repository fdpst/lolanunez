import{B as _,_ as g}from"./BillsTabOverview-BJxwUsj6.js";import{r as l,c as h,d as V,b as a,e,af as m,n as s,o as x,v as c,k as y}from"./main-BwDGDDDW.js";import{$ as B}from"./api-CjWrXaZL.js";import{V as b,a as u}from"./VRow-DJH2tZVu.js";import"./UserUpgradePlanDialog-DZ2uLs0z.js";import"./ConfirmDialog-BcB1qS-q.js";import"./VCard-Cpw0jw9u.js";import"./VAvatar-DYn3is-W.js";import"./VImg-BYy41-F9.js";import"./VCardText-BKkdmkn-.js";import"./VDialog-5yhkawgU.js";import"./dialog-transition-GiYjLY5n.js";import"./DialogCloseBtn-B0aYGOTk.js";import"./VSelect-Cdsnm3mB.js";import"./VTextField-DqZOZREA.js";/* empty css                   */import"./VCounter-IA5S7b1U.js";import"./VField-5sqsN37e.js";import"./form-BEvPHhJ7.js";import"./VInput-CVFVwJKu.js";import"./VList-CLtMWoGj.js";import"./ssrBoot-B7QpyNAy.js";import"./VDivider-PVfbuN4-.js";import"./VMenu-BWP2lKbi.js";import"./VCheckboxBtn-CuvLREeJ.js";import"./VSelectionControl-D0_t5DTC.js";import"./VChip-CXCzEWTC.js";import"./UserInfoEditDialog-EThh0HQK.js";import"./VForm-DbaU_ACV.js";import"./AppDateTimePicker-BgncYox4.js";import"./VAutocomplete-DSXORfQB.js";import"./filter-B9tzeaPh.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VTextarea-Ugpn_Hk5.js";import"./useApi-Cv1dvmBl.js";import"./VDataTable-B4BcEe_U.js";import"./VPagination-DIhj3juL.js";import"./VTable-CK8MMDdB.js";import"./index-D8byVCHt.js";import"./index-9rIf2CJL.js";/* empty css              */const C={class:"d-flex justify-end align-center flex-wrap gap-4 gap-y-4 mb-6"},dt={__name:"index",setup(k){const p=y(),i=l([]),t=l({total:0,descuento:0,fecha:"",id_cliente:null,comentario:"",nro_factura:0,cuenta:null}),n=l([]),d=o=>{t.value.descuento=o.descuento,t.value.cuenta=o.cuenta,t.value.fecha=o.fecha,t.value.id_cliente=o.id_cliente,t.value.comentario=o.comentario},f=o=>{n.value=o.itemsFactura,t.value.total=o.total},v=async()=>{try{i.value[0]=!0;const o={total:t.value.total,descuento:t.value.descuento,fecha:t.value.fecha,items:n.value,nro_factura:t.value.nro_factura,id_cliente:t.value.id_cliente,comentario:t.value.comentario};await B("/save-factura",{method:"POST",body:o}),i.value[0]=!1,p.push("/apps/bills/list")}catch(o){console.log("error",o)}};return(o,r)=>(x(),h("div",null,[V("div",C,[a(m,{variant:"outlined",color:"secondary",to:{name:"apps-bills-list"}},{default:e(()=>r[0]||(r[0]=[c(" Volver ")])),_:1}),a(m,{color:"primary",loading:s(i)[0],onClick:v},{default:e(()=>r[1]||(r[1]=[c("Guardar")])),_:1},8,["loading"])]),a(b,null,{default:e(()=>[a(u,{cols:"12",md:"5",lg:"4"},{default:e(()=>[a(_,{onChangeData:d})]),_:1}),a(u,{cols:"12",md:"7",lg:"8"},{default:e(()=>[a(g,{data:s(t),onChangeItems:f},null,8,["data"])]),_:1})]),_:1})]))}};export{dt as default};
