import{p as R}from"./paginationMeta-BbY5dJ0C.js";import{_ as L}from"./DialogCloseBtn-vF1tbmc_.js";import{V as T}from"./VCard-BBjecQUS.js";import{V as z}from"./VCardText-DGP4d7zZ.js";import{V as O}from"./VForm-B4Tyf17S.js";import{V as W}from"./VAlert-ymSxCZ52.js";import{V as E}from"./VTextField-BfMLnCIA.js";import{r as p,w as G,o as k,f as F,e as a,b as i,d as n,x as V,v as x,n as t,ag as c,af as w,at as H,a6 as $,c as M,F as S,i as J,a0 as K,a as Q}from"./main-DXTHM_Z4.js";import{V as X}from"./VCheckbox-CVRX89Q0.js";import{V as Y}from"./VDialog-BXZSKyZJ.js";import{_ as Z}from"./MoreBtn-gEltqhL4.js";import{u as ee}from"./useApi-D06Wc7pK.js";import{c as te}from"./createUrl-n8nET3pc.js";import{V as se}from"./VDataTableServer-CO9gBG3B.js";import{V as ie}from"./VChip-CoWdbaPm.js";import{V as ae}from"./VDivider-CVdsTcIK.js";import{V as oe}from"./VSelect-DDGWU2xG.js";import"./VAvatar-QubjHI1z.js";import"./VImg-DTTLi8N3.js";import"./form-ijrz4ipO.js";/* empty css                   */import"./VCounter-CfjE-LQa.js";import"./VField-B2YWi8oL.js";import"./VInput-BZH6jw62.js";import"./VCheckboxBtn-DNkfUJpf.js";import"./VSelectionControl-DqCfd3An.js";import"./dialog-transition-CqXIoDZd.js";import"./VMenu-D1AAVsYt.js";import"./VList-5epMYaPo.js";import"./ssrBoot-BzQpit4r.js";import"./index-9rIf2CJL.js";import"./VDataTable-Dhru72M2.js";import"./VPagination-EsQETAJ-.js";import"./VTable-DROJbQhe.js";import"./filter-B81R-Kvh.js";const le={class:"text-center mb-6"},re={class:"text-h4 mb-2"},ne={class:"text-body-1"},me={class:"d-flex align-center gap-4 mb-4"},pe={__name:"AddEditPermissionDialog",props:{isDialogVisible:{type:Boolean,required:!0},permissionName:{type:String,required:!1,default:""}},emits:["update:isDialogVisible","update:permissionName"],setup(B,{emit:f}){const d=B,v=f,r=p(""),o=()=>{v("update:isDialogVisible",!1),r.value=""},l=()=>{v("update:isDialogVisible",!1),v("update:permissionName",r.value)};return G(d,()=>{r.value=d.permissionName}),(y,m)=>{const C=L;return k(),F(Y,{width:y.$vuetify.display.smAndDown?"auto":600,"model-value":d.isDialogVisible,"onUpdate:modelValue":o},{default:a(()=>[i(T,{class:"pa-sm-8 pa-5"},{default:a(()=>[i(C,{variant:"text",size:"default",onClick:o}),i(z,{class:"mt-5"},{default:a(()=>[n("div",le,[n("h4",re,V(d.permissionName?"Edit":"Add")+" Permission ",1),n("p",ne,V(d.permissionName?"Edit":"Add")+" permission as per your requirements. ",1)]),i(O,null,{default:a(()=>[i(W,{type:"warning",title:"Warning!",variant:"tonal",class:"mb-6"},{default:a(()=>m[1]||(m[1]=[x(" By editing the permission name, you might break the system permissions functionality. Please ensure you're absolutely certain before proceeding. ")])),_:1}),n("div",me,[i(E,{modelValue:t(r),"onUpdate:modelValue":m[0]||(m[0]=g=>c(r)?r.value=g:null),density:"compact",placeholder:"Enter Permission Name"},null,8,["modelValue"]),i(w,{onClick:l},{default:a(()=>m[2]||(m[2]=[x(" Update ")])),_:1})]),i(X,{label:"Set as core permission"})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}},de={class:"d-flex gap-2"},ue={class:"text-h6 font-weight-regular"},ce={class:"text-body-1"},fe={class:"d-flex justify-end flex-wrap gap-x-6 px-2 py-1"},ge={class:"d-flex align-center gap-x-2 text-medium-emphasis text-base"},Ve={class:"d-flex align-center text-base text-high-emphasis me-2 mb-0"},ve={class:"d-flex gap-x-2 align-center me-2"},Ze={__name:"index",async setup(B){let f,d;const v=[{title:"Name",key:"name"},{title:"Assigned To",key:"assignedTo",sortable:!1},{title:"Created Date",key:"createdDate",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],r=p(""),o=p(10),l=p(1),y=p(),m=p(),C=u=>{var e,h;l.value=u.page,y.value=(e=u.sortBy[0])==null?void 0:e.key,m.value=(h=u.sortBy[0])==null?void 0:h.order},g=p(!1),_=p(!1),D=p(""),A={support:{color:"info",text:"Support"},users:{color:"success",text:"Users"},manager:{color:"warning",text:"Manager"},administrator:{color:"primary",text:"Administrator"},"restricted-user":{color:"error",text:"Restricted User"}},{data:N}=([f,d]=H(()=>ee(te("/apps/permissions",{query:{q:r,itemsPerPage:o,page:l,sortBy:y,orderBy:m}}))),f=await f,d(),f),q=$(()=>N.value.permissions),b=$(()=>N.value.totalPermissions),j=u=>{g.value=!0,D.value=u};return(u,e)=>{const h=Q("IconBtn"),I=Z,U=pe;return k(),M(S,null,[i(T,null,{default:a(()=>[i(z,{class:"d-flex align-center justify-sm-space-between justify-start gap-4 flex-wrap"},{default:a(()=>[i(E,{modelValue:t(r),"onUpdate:modelValue":e[0]||(e[0]=s=>c(r)?r.value=s:null),density:"compact",placeholder:"Search Permission",style:{"max-inline-size":"15rem","min-inline-size":"12rem"}},null,8,["modelValue"]),i(w,{density:"default",onClick:e[1]||(e[1]=s=>_.value=!0)},{default:a(()=>e[9]||(e[9]=[x(" Add Permission ")])),_:1})]),_:1}),i(se,{"items-per-page":t(o),"onUpdate:itemsPerPage":e[5]||(e[5]=s=>c(o)?o.value=s:null),"items-length":t(b),"items-per-page-options":[{value:5,title:"5"},{value:10,title:"10"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],headers:v,items:t(q),"item-value":"name",class:"text-no-wrap","onUpdate:options":C},{"item.assignedTo":a(({item:s})=>[n("div",de,[(k(!0),M(S,null,J(s.assignedTo,P=>(k(),F(ie,{key:P,color:A[P].color,size:"small"},{default:a(()=>[x(V(A[P].text),1)]),_:2},1032,["color"]))),128))])]),"item.name":a(({item:s})=>[n("h6",ue,V(s.name),1)]),"item.createdDate":a(({item:s})=>[n("span",ce,V(s.createdDate),1)]),"item.actions":a(({item:s})=>[i(h,{size:"small",onClick:P=>j(s.name)},{default:a(()=>[i(K,{icon:"ri-edit-box-line"})]),_:2},1032,["onClick"]),i(I,{size:"small"})]),bottom:a(()=>[i(ae),n("div",fe,[n("div",ge,[e[10]||(e[10]=x(" Filas por pÃ¡gina: ")),i(oe,{modelValue:t(o),"onUpdate:modelValue":e[2]||(e[2]=s=>c(o)?o.value=s:null),class:"per-page-select",variant:"plain",items:[10,20,25,50,100]},null,8,["modelValue"])]),n("p",Ve,V(("paginationMeta"in u?u.paginationMeta:t(R))({page:t(l),itemsPerPage:t(o)},t(b))),1),n("div",ve,[i(w,{class:"flip-in-rtl",icon:"ri-arrow-left-s-line",variant:"text",density:"comfortable",color:"high-emphasis",disabled:t(l)<=1,onClick:e[3]||(e[3]=s=>t(l)<=1?l.value=1:l.value--)},null,8,["disabled"]),i(w,{class:"flip-in-rtl",icon:"ri-arrow-right-s-line",density:"comfortable",variant:"text",color:"high-emphasis",disabled:t(l)>=Math.ceil(t(b)/t(o)),onClick:e[4]||(e[4]=s=>t(l)>=Math.ceil(t(b)/t(o))?l.value=Math.ceil(t(b)/t(o)):l.value++)},null,8,["disabled"])])])]),_:1},8,["items-per-page","items-length","items"])]),_:1}),i(U,{isDialogVisible:t(g),"onUpdate:isDialogVisible":e[6]||(e[6]=s=>c(g)?g.value=s:null),"permission-name":t(D),"onUpdate:permissionName":e[7]||(e[7]=s=>c(D)?D.value=s:null)},null,8,["isDialogVisible","permission-name"]),i(U,{isDialogVisible:t(_),"onUpdate:isDialogVisible":e[8]||(e[8]=s=>c(_)?_.value=s:null)},null,8,["isDialogVisible"])],64)}}};export{Ze as default};
