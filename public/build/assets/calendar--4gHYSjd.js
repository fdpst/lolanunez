import{_ as Ae}from"./AppDateTimePicker-CfAoPA-s.js";import{c as A,D as J,m as k,g as _,y as i,S as $e,V as ae,C as z,f as He,s as Oe,a as q,N as pe,b as Ke,i as Le,d as Fe,B as P,e as Je,h as ne,j as Ye,_ as O,E as Xe,k as Ze,l as Qe,n as ee,o as ie,p as be,q as ze,r as W,t as et,u as tt,v as L,w as rt,W as lt,x as Se,z as st,A as at,F as ge,G as xe,H as nt,I as it,J as ot,K as dt,L as $,M as H,O as he,P as ct,Q as oe,R as ut,T as ft,U as mt,X as Ge,Y as We,Z as pt,$ as gt,a0 as ht,a1 as vt,a2 as yt,a3 as bt,a4 as St,a5 as xt,a6 as wt,a7 as Ct,a8 as Dt,a9 as Et,aa as kt,ab as Rt,ac as Ue,ad as Tt,ae as Nt,af as Mt}from"./index-Bhs01vZM.js";import{aO as Pt,a2 as It,r as V,w as K,I as Vt,a6 as de,o as F,f as j,e as C,b as S,L as we,M as Ce,n as h,a0 as te,am as At,d as I,x as Ht,y as Ot,aK as Lt,aL as Ft,af as ce,v as ue,aw as zt,ay as Gt,ao as Wt,aA as Ut,az as Bt,ax as _t,ak as De,a as jt,c as Ee,ag as U,F as qt,i as $t}from"./main-C1cSucNj.js";import{u as Kt}from"./useApi-DTDttPdq.js";import{c as Jt}from"./createUrl-Ch851Qkn.js";import{$ as re}from"./api-DGW-Fn2Q.js";import{r as B,u as Yt}from"./validators-CrSGMxiT.js";import{_ as Xt}from"./AppDrawerHeaderSection-CLKYOWA7.js";import{P as Zt}from"./vue3-perfect-scrollbar.esm-WZLAIUT0.js";import{V as fe}from"./VDivider-BS9Tllbl.js";import{V as me}from"./VCard-DoJ7OvEk.js";import{V as Qt}from"./VCardText-iOQ31nyo.js";import{V as er}from"./VForm-Dy7iSAGS.js";import{V as tr,a as N}from"./VRow-DdYzItfl.js";import{V as le}from"./VTextField-BDUmA4Cs.js";import{V as ke}from"./VSelect-C8_y3N-_.js";import{a as rr}from"./VList-CJtIzW8v.js";import{V as lr}from"./VSwitch-DKzwibPO.js";import{V as sr}from"./VTextarea-AN9uyN0u.js";import{V as Be}from"./VNavigationDrawer-C9-e5Vs5.js";import{u as ar,V as nr,a as ir}from"./VMain-DDdOTDrr.js";import{_ as or}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Re}from"./VCheckbox-CTf9gdvj.js";import"./VField-BymScPN-.js";import"./form-BJwA8ai1.js";import"./VInput-wvAgDqIB.js";import"./index-9rIf2CJL.js";import"./index-D-qiIO6U.js";import"./helpers-DK5QwNv0.js";import"./VSpacer-D5JLVMw2.js";/* empty css              */import"./VAvatar-BpNw3P6_.js";import"./VImg-D1aAeOw8.js";/* empty css                   */import"./VCounter-tCKPKrdk.js";import"./dialog-transition-apDHIwZf.js";import"./VMenu-D5ZOve3c.js";import"./VCheckboxBtn-DqgUuTHD.js";import"./VSelectionControl-CM7Gd7lS.js";import"./VChip-Js2ye3Ji.js";import"./ssrBoot-DfsiD9ny.js";class dr extends P{constructor(){super(...arguments),this.state={textId:_()}}render(){let{theme:e,dateEnv:t,options:r,viewApi:l}=this.context,{cellId:n,dayDate:a,todayRange:o}=this.props,{textId:d}=this.state,c=Je(a,o),u=r.listDayFormat?t.format(a,r.listDayFormat):"",x=r.listDaySideFormat?t.format(a,r.listDaySideFormat):"",v=Object.assign({date:t.toDate(a),view:l,textId:d,text:u,sideText:x,navLinkAttrs:ne(this.context,a),sideNavLinkAttrs:ne(this.context,a,"day",!1)},c);return i(z,{elTag:"tr",elClasses:["fc-list-day",...Ye(c,e)],elAttrs:{"data-date":He(a)},renderProps:v,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:cr,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},p=>i("th",{scope:"colgroup",colSpan:3,id:n,"aria-labelledby":d},i(p,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function cr(s){return i(O,null,s.text&&i("a",Object.assign({id:s.textId,className:"fc-list-day-text"},s.navLinkAttrs),s.text),s.sideText&&i("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},s.sideNavLinkAttrs),s.sideText))}const ur=A({hour:"numeric",minute:"2-digit",meridiem:"short"});class fr extends P{render(){let{props:e,context:t}=this,{options:r}=t,{seg:l,timeHeaderId:n,eventHeaderId:a,dateHeaderId:o}=e,d=r.eventTimeFormat||ur;return i(Xe,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",l.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>mr(l,t),seg:l,timeText:"",disableDragging:!0,disableResizing:!0}),(c,u)=>i(O,null,pr(l,d,t,n,o),i("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},i("span",{className:"fc-list-event-dot",style:{borderColor:u.borderColor||u.backgroundColor}})),i(c,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${a} ${o}`}})))}}function mr(s,e){let t=Ze(s,e);return i("a",Object.assign({},t),s.eventRange.def.title)}function pr(s,e,t,r,l){let{options:n}=t;if(n.displayEventTime!==!1){let a=s.eventRange.def,o=s.eventRange.instance,d=!1,c;if(a.allDay?d=!0:Qe(s.eventRange.range)?s.isStart?c=ee(s,e,t,null,null,o.range.start,s.end):s.isEnd?c=ee(s,e,t,null,null,s.start,o.range.end):d=!0:c=ee(s,e,t),d){let u={text:t.options.allDayText,view:t.viewApi};return i(z,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${r} ${l}`},renderProps:u,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:gr,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount})}return i("td",{className:"fc-list-event-time"},c)}return null}function gr(s){return s.text}class hr extends J{constructor(){super(...arguments),this.computeDateVars=k(yr),this.eventStoreToSegs=k(this._eventStoreToSegs),this.state={timeHeaderId:_(),eventHeaderId:_(),dateHeaderIdRoot:_()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:r,dayRanges:l}=this.computeDateVars(e.dateProfile),n=this.eventStoreToSegs(e.eventStore,e.eventUiBases,l);return i(ae,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),t.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:t.viewSpec},i($e,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},n.length>0?this.renderSegList(n,r):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,r={text:e.noEventsText,view:t};return i(z,{elTag:"div",elClasses:["fc-list-empty"],renderProps:r,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:vr,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},l=>i(l,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,t){let{theme:r,options:l}=this.context,{timeHeaderId:n,eventHeaderId:a,dateHeaderIdRoot:o}=this.state,d=br(e);return i(pe,{unit:"day"},(c,u)=>{let x=[];for(let v=0;v<d.length;v+=1){let p=d[v];if(p){let y=He(t[v]),m=o+"-"+y;x.push(i(dr,{key:y,cellId:m,dayDate:t[v],todayRange:u})),p=Oe(p,l.eventOrder);for(let f of p)x.push(i(fr,Object.assign({key:y+":"+f.eventRange.instance.instanceId,seg:f,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:n,eventHeaderId:a,dateHeaderId:m},q(f,u,c))))}}return i("table",{className:"fc-list-table "+r.getClass("table")},i("thead",null,i("tr",null,i("th",{scope:"col",id:n},l.timeHint),i("th",{scope:"col","aria-hidden":!0}),i("th",{scope:"col",id:a},l.eventHint))),i("tbody",null,x))})}_eventStoreToSegs(e,t,r){return this.eventRangesToSegs(Ke(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,r)}eventRangesToSegs(e,t){let r=[];for(let l of e)r.push(...this.eventRangeToSegs(l,t));return r}eventRangeToSegs(e,t){let{dateEnv:r}=this.context,{nextDayThreshold:l}=this.context.options,n=e.range,a=e.def.allDay,o,d,c,u=[];for(o=0;o<t.length;o+=1)if(d=Le(n,t[o]),d&&(c={component:this,eventRange:e,start:d.start,end:d.end,isStart:e.isStart&&d.start.valueOf()===n.start.valueOf(),isEnd:e.isEnd&&d.end.valueOf()===n.end.valueOf(),dayIndex:o},u.push(c),!c.isEnd&&!a&&o+1<t.length&&n.end<r.add(t[o+1].start,l))){c.end=n.end,c.isEnd=!0;break}return u}}function vr(s){return s.text}function yr(s){let e=ie(s.renderRange.start),t=s.renderRange.end,r=[],l=[];for(;e<t;)r.push(e),l.push({start:e,end:be(e,1)}),e=be(e,1);return{dayDates:r,dayRanges:l}}function br(s){let e=[],t,r;for(t=0;t<s.length;t+=1)r=s[t],(e[r.dayIndex]||(e[r.dayIndex]=[])).push(r);return e}var Sr=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';Fe(Sr);const xr={listDayFormat:Te,listDaySideFormat:Te,noEventsClassNames:W,noEventsContent:W,noEventsDidMount:W,noEventsWillUnmount:W};function Te(s){return s===!1?null:A(s)}var wr=ze({name:"@fullcalendar/list",optionRefiners:xr,views:{list:{component:hr,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});class Cr extends ot{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?dt(e)?["timed","allDay"]:["allDay"]:["timed"]}}const Dr=A({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function _e(s){let e=["fc-timegrid-slot","fc-timegrid-slot-label",s.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return i(ut.Consumer,null,t=>{if(!s.isLabeled)return i("td",{className:e.join(" "),"data-time":s.isoTimeStr});let{dateEnv:r,options:l,viewApi:n}=t,a=l.slotLabelFormat==null?Dr:Array.isArray(l.slotLabelFormat)?A(l.slotLabelFormat[0]):A(l.slotLabelFormat),o={level:0,time:s.time,date:r.toDate(s.date),view:n,text:r.format(s.date,a)};return i(z,{elTag:"td",elClasses:e,elAttrs:{"data-time":s.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:l.slotLabelContent,defaultGenerator:Er,classNameGenerator:l.slotLabelClassNames,didMount:l.slotLabelDidMount,willUnmount:l.slotLabelWillUnmount},d=>i("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},i(d,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Er(s){return s.text}class kr extends P{render(){return this.props.slatMetas.map(e=>i("tr",{key:e.key},i(_e,Object.assign({},e))))}}const Rr=A({week:"short"}),Tr=5;class Nr extends J{constructor(){super(...arguments),this.allDaySplitter=new Cr,this.headerElRef=L(),this.rootElRef=L(),this.scrollerElRef=L(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:r}=this.context,{dateProfile:l}=this.props,n=l.renderRange,o=rt(n.start,n.end)===1?ne(this.context,n.start,"week"):{};return r.weekNumbers&&e==="day"?i(lt,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:n.start,defaultFormat:Rr},d=>i("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},i(d,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o}))):i("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},i("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:r}=this.context,l={text:t.allDayText,view:r};return i(z,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:l,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:Mr,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},n=>i("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},i(n,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,r){let{context:l,props:n}=this,a=[],o=Se(l.options);return e&&a.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(a.push({type:"body",key:"all-day",chunk:{content:t}}),a.push({type:"body",key:"all-day-divider",outerContent:i("tr",{role:"presentation",className:"fc-scrollgrid-section"},i("td",{className:"fc-timegrid-divider "+l.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:!!l.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),i(ae,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:l.viewSpec},i(st,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(e,t,r,l,n,a,o){let d=this.context.pluginHooks.scrollGridImpl;if(!d)throw new Error("No ScrollGrid implementation");let{context:c,props:u}=this,x=!u.forPrint&&Se(c.options),v=!u.forPrint&&at(c.options),p=[];e&&p.push({type:"header",key:"header",isSticky:x,syncRowHeights:!0,chunks:[{key:"axis",rowContent:m=>i("tr",{role:"presentation"},this.renderHeadAxis("day",m.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:m=>i("tr",{role:"presentation"},this.renderTableRowAxis(m.rowSyncHeights[0]))},{key:"cols",content:t}]}),p.push({key:"all-day-divider",type:"body",outerContent:i("tr",{role:"presentation",className:"fc-scrollgrid-section"},i("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let y=c.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:m=>i("div",{className:"fc-timegrid-axis-chunk"},i("table",{"aria-hidden":!0,style:{height:m.expandRows?m.clientHeight:""}},m.tableColGroupNode,i("tbody",null,i(kr,{slatMetas:a}))),i("div",{className:"fc-timegrid-now-indicator-container"},i(pe,{unit:y?"minute":"day"},f=>{let T=y&&o&&o.safeComputeTop(f);return typeof T=="number"?i(ge,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:T},isAxis:!0,date:f}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),v&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:xe},{key:"cols",content:xe}]}),i(ae,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},i(d,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:l,minWidth:n}]}],sections:p}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=Tr),{dayMaxEvents:e,dayMaxEventRows:t}}}function Mr(s){return s.text}class Pr{constructor(e,t,r){this.positions=e,this.dateProfile=t,this.slotDuration=r}safeComputeTop(e){let{dateProfile:t}=this;if(pt(t.currentRange,e)){let r=ie(e),l=e.valueOf()-r.valueOf();if(l>=H(t.slotMinTime)&&l<H(t.slotMaxTime))return this.computeTimeTop($(l))}return null}computeDateTop(e,t){return t||(t=ie(e)),this.computeTimeTop($(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:r}=this,l=t.els.length,n=(e.milliseconds-H(r.slotMinTime))/H(this.slotDuration),a,o;return n=Math.max(0,n),n=Math.min(l,n),a=Math.floor(n),a=Math.min(a,l-1),o=n-a,t.tops[a]+t.getHeight(a)*o}}class Ir extends P{render(){let{props:e,context:t}=this,{options:r}=t,{slatElRefs:l}=e;return i("tbody",null,e.slatMetas.map((n,a)=>{let o={time:n.time,date:t.dateEnv.toDate(n.date),view:t.viewApi};return i("tr",{key:n.key,ref:l.createRef(n.key)},e.axis&&i(_e,Object.assign({},n)),i(z,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!n.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":n.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class Vr extends P{constructor(){super(...arguments),this.rootElRef=L(),this.slatElRefs=new Ge}render(){let{props:e,context:t}=this;return i("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},i("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,i(Ir,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new Pr(new We(this.rootElRef.current,Ar(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function Ar(s,e){return e.map(t=>s[t.key])}function G(s,e){let t=[],r;for(r=0;r<e;r+=1)t.push([]);if(s)for(r=0;r<s.length;r+=1)t[s[r].col].push(s[r]);return t}function Ne(s,e){let t=[];if(s){for(let r=0;r<e;r+=1)t[r]={affectedInstances:s.affectedInstances,isEvent:s.isEvent,segs:[]};for(let r of s.segs)t[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)t[r]=null;return t}class Hr extends P{render(){let{props:e}=this;return i(wt,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>qe(e.hiddenSegs,e),defaultGenerator:Or,forceTimed:!0},t=>i(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function Or(s){return s.shortText}function Lr(s,e,t){let r=new Et;e!=null&&(r.strictOrder=e),t!=null&&(r.maxStackCnt=t);let l=r.addSegs(s),n=Dt(l),a=Fr(r);return a=Ur(a,1),{segRects:Br(a),hiddenGroups:n}}function Fr(s){const{entriesByLevel:e}=s,t=ve((r,l)=>r+":"+l,(r,l)=>{let n=Wr(s,r,l),a=Me(n,t),o=e[r][l];return[Object.assign(Object.assign({},o),{nextLevelNodes:a[0]}),o.thickness+a[1]]});return Me(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function Me(s,e){if(!s)return[[],0];let{level:t,lateralStart:r,lateralEnd:l}=s,n=r,a=[];for(;n<l;)a.push(e(t,n)),n+=1;return a.sort(zr),[a.map(Gr),a[0][1]]}function zr(s,e){return e[1]-s[1]}function Gr(s){return s[0]}function Wr(s,e,t){let{levelCoords:r,entriesByLevel:l}=s,n=l[e][t],a=r[e]+n.thickness,o=r.length,d=e;for(;d<o&&r[d]<a;d+=1);for(;d<o;d+=1){let c=l[d],u,x=kt(c,n.span.start,Rt),v=x[0]+x[1],p=v;for(;(u=c[p])&&u.span.start<n.span.end;)p+=1;if(v<p)return{level:d,lateralStart:v,lateralEnd:p}}return null}function Ur(s,e){const t=ve((r,l,n)=>Ue(r),(r,l,n)=>{let{nextLevelNodes:a,thickness:o}=r,d=o+n,c=o/d,u,x=[];if(!a.length)u=e;else for(let p of a)if(u===void 0){let y=t(p,l,d);u=y[0],x.push(y[1])}else{let y=t(p,u,0);x.push(y[1])}let v=(u-l)*c;return[u-v,Object.assign(Object.assign({},r),{thickness:v,nextLevelNodes:x})]});return s.map(r=>t(r,0,0)[1])}function Br(s){let e=[];const t=ve((l,n,a)=>Ue(l),(l,n,a)=>{let o=Object.assign(Object.assign({},l),{levelCoord:n,stackDepth:a,stackForward:0});return e.push(o),o.stackForward=r(l.nextLevelNodes,n+l.thickness,a+1)+1});function r(l,n,a){let o=0;for(let d of l)o=Math.max(t(d,n,a),o);return o}return r(s,0,0),e}function ve(s,e){const t={};return(...r)=>{let l=s(...r);return l in t?t[l]:t[l]=e(...r)}}function Pe(s,e,t=null,r=0){let l=[];if(t)for(let n=0;n<s.length;n+=1){let a=s[n],o=t.computeDateTop(a.start,e),d=Math.max(o+(r||0),t.computeDateTop(a.end,e));l.push({start:Math.round(o),end:Math.round(d)})}return l}function _r(s,e,t,r){let l=[],n=[];for(let c=0;c<s.length;c+=1){let u=e[c];u?l.push({index:c,thickness:1,span:u}):n.push(s[c])}let{segRects:a,hiddenGroups:o}=Lr(l,t,r),d=[];for(let c of a)d.push({seg:s[c.index],rect:c});for(let c of n)d.push({seg:c,rect:null});return{segPlacements:d,hiddenGroups:o}}const jr=A({hour:"numeric",minute:"2-digit",meridiem:!1});class je extends P{render(){return i(Ct,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:jr}))}}class qr extends P{constructor(){super(...arguments),this.sortEventSegs=k(Oe)}render(){let{props:e,context:t}=this,{options:r}=t,l=r.selectMirror,n=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||l&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return i(ht,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},d=>i("div",{className:"fc-timegrid-col-frame"},i("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),i("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,a,!1,!1,!1)),i("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(n,{},!!e.eventDrag,!!e.eventResize,!!l,"mirror")),i("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),gt(r)&&i(d,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,r,l,n,a){let{props:o}=this;return o.forPrint?qe(e,o):this.renderPositionedFgSegs(e,t,r,l,n,a)}renderPositionedFgSegs(e,t,r,l,n,a){let{eventMaxStack:o,eventShortHeight:d,eventOrderStrict:c,eventMinHeight:u}=this.context.options,{date:x,slatCoords:v,eventSelection:p,todayRange:y,nowDate:m}=this.props,f=r||l||n,T=Pe(e,x,v,u),{segPlacements:b,hiddenGroups:w}=_r(e,T,c,o);return i(O,null,this.renderHiddenGroups(w,e),b.map(g=>{let{seg:D,rect:E}=g,R=D.eventRange.instance.instanceId,M=f||!!(!t[R]&&E),Y=se(E&&E.span),X=!f&&E?this.computeSegHStyle(E):{left:0,right:0},Z=!!E&&E.stackForward>0,Q=!!E&&E.span.end-E.span.start<d;return i("div",{className:"fc-timegrid-event-harness"+(Z?" fc-timegrid-event-harness-inset":""),key:a||R,style:Object.assign(Object.assign({visibility:M?"":"hidden"},Y),X)},i(je,Object.assign({seg:D,isDragging:r,isResizing:l,isDateSelecting:n,isSelected:R===p,isShort:Q},q(D,y,m))))}))}renderHiddenGroups(e,t){let{extraDateSpan:r,dateProfile:l,todayRange:n,nowDate:a,eventSelection:o,eventDrag:d,eventResize:c}=this.props;return i(O,null,e.map(u=>{let x=se(u.span),v=$r(u.entries,t);return i(Hr,{key:vt(yt(v)),hiddenSegs:v,top:x.top,bottom:x.bottom,extraDateSpan:r,dateProfile:l,todayRange:n,nowDate:a,eventSelection:o,eventDrag:d,eventResize:c})}))}renderFillSegs(e,t){let{props:r,context:l}=this,a=Pe(e,r.date,r.slatCoords,l.options.eventMinHeight).map((o,d)=>{let c=e[d];return i("div",{key:xt(c.eventRange),className:"fc-timegrid-bg-harness",style:se(o)},t==="bg-event"?i(bt,Object.assign({seg:c},q(c,r.todayRange,r.nowDate))):St(t))});return i(O,null,a)}renderNowIndicator(e){let{slatCoords:t,date:r}=this.props;return t?e.map((l,n)=>i(ge,{key:n,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(l.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:t,options:r}=this.context,l=r.slotEventOverlap,n=e.levelCoord,a=e.levelCoord+e.thickness,o,d;l&&(a=Math.min(1,n+(a-n)*2)),t?(o=1-a,d=n):(o=n,d=1-a);let c={zIndex:e.stackDepth+1,left:o*100+"%",right:d*100+"%"};return l&&!e.stackForward&&(c[t?"marginLeft":"marginRight"]=10*2),c}}function qe(s,{todayRange:e,nowDate:t,eventSelection:r,eventDrag:l,eventResize:n}){let a=(l?l.affectedInstances:null)||(n?n.affectedInstances:null)||{};return i(O,null,s.map(o=>{let d=o.eventRange.instance.instanceId;return i("div",{key:d,style:{visibility:a[d]?"hidden":""}},i(je,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:d===r,isShort:!1},q(o,e,t))))}))}function se(s){return s?{top:s.start,bottom:-s.end}:{top:"",bottom:""}}function $r(s,e){return s.map(t=>e[t.index])}class Kr extends P{constructor(){super(...arguments),this.splitFgEventSegs=k(G),this.splitBgEventSegs=k(G),this.splitBusinessHourSegs=k(G),this.splitNowIndicatorSegs=k(G),this.splitDateSelectionSegs=k(G),this.splitEventDrag=k(Ne),this.splitEventResize=k(Ne),this.rootElRef=L(),this.cellElRefs=new Ge}render(){let{props:e,context:t}=this,r=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),l=e.cells.length,n=this.splitFgEventSegs(e.fgEventSegs,l),a=this.splitBgEventSegs(e.bgEventSegs,l),o=this.splitBusinessHourSegs(e.businessHourSegs,l),d=this.splitNowIndicatorSegs(e.nowIndicatorSegs,l),c=this.splitDateSelectionSegs(e.dateSelectionSegs,l),u=this.splitEventDrag(e.eventDrag,l),x=this.splitEventResize(e.eventResize,l);return i("div",{className:"fc-timegrid-cols",ref:this.rootElRef},i("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,i("tbody",{role:"presentation"},i("tr",{role:"row"},e.axis&&i("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},i("div",{className:"fc-timegrid-col-frame"},i("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&i(ge,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((v,p)=>i(qr,{key:v.key,elRef:this.cellElRefs.createRef(v.key),dateProfile:e.dateProfile,date:v.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:v.extraRenderProps,extraDataAttrs:v.extraDataAttrs,extraClassNames:v.extraClassNames,extraDateSpan:v.extraDateSpan,fgEventSegs:n[p],bgEventSegs:a[p],businessHourSegs:o[p],nowIndicatorSegs:d[p],dateSelectionSegs:c[p],eventDrag:u[p],eventResize:x[p],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new We(this.rootElRef.current,Jr(this.cellElRefs.currentMap,e.cells),!0,!1))}}function Jr(s,e){return e.map(t=>s[t.key])}class Yr extends J{constructor(){super(...arguments),this.processSlotOptions=k(Xr),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:r}=this.state;if(t&&r){if(e.time){let l=r.computeTimeTop(e.time);l=Math.ceil(l),l&&(l+=1),t(l)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return i("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},i(Vr,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),i(Kr,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:r,options:l}=this.context,{colCoords:n}=this,{dateProfile:a}=this.props,{slatCoords:o}=this.state,{snapDuration:d,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,l.snapDuration),u=n.leftToIndex(e),x=o.positions.topToIndex(t);if(u!=null&&x!=null){let v=this.props.cells[u],p=o.positions.tops[x],y=o.positions.getHeight(x),m=(t-p)/y,f=Math.floor(m*c),T=x*c+f,b=this.props.cells[u].date,w=oe(a.slotMinTime,ft(d,T)),g=r.add(b,w),D=r.add(g,d);return{dateProfile:a,dateSpan:Object.assign({range:{start:g,end:D},allDay:!1},v.extraDateSpan),dayEl:n.els[u],rect:{left:n.lefts[u],right:n.rights[u],top:p,bottom:p+y},layer:0}}return null}}function Xr(s,e){let t=e||s,r=he(s,t);return r===null&&(t=s,r=1),{snapDuration:t,snapsPerSlot:r}}class Zr extends mt{sliceRange(e,t){let r=[];for(let l=0;l<t.length;l+=1){let n=Le(e,t[l]);n&&r.push({start:n.start,end:n.end,isStart:n.start.valueOf()===e.start.valueOf(),isEnd:n.end.valueOf()===e.end.valueOf(),col:l})}return r}}class Qr extends J{constructor(){super(...arguments),this.buildDayRanges=k(el),this.slicer=new Zr,this.timeColsRef=L()}render(){let{props:e,context:t}=this,{dateProfile:r,dayTableModel:l}=e,{nowIndicator:n,nextDayThreshold:a}=t.options,o=this.buildDayRanges(l,r,t.dateEnv);return i(pe,{unit:n?"minute":"day"},(d,c)=>i(Yr,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,t,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:l.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:d,nowIndicatorSegs:n&&this.slicer.sliceNowDate(d,r,a,t,o),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function el(s,e,t){let r=[];for(let l of s.headerDates)r.push({start:t.add(l,e.slotMinTime),end:t.add(l,e.slotMaxTime)});return r}const Ie=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function tl(s,e,t,r,l){let n=new Date(0),a=s,o=$(0),d=t||rl(r),c=[];for(;H(a)<H(e);){let u=l.add(n,a),x=he(o,d)!==null;c.push({date:u,time:a,key:u.toISOString(),isoTimeStr:ct(u),isLabeled:x}),a=oe(a,r),o=oe(o,r)}return c}function rl(s){let e,t,r;for(e=Ie.length-1;e>=0;e-=1)if(t=$(Ie[e]),r=he(t,s),r!==null&&r>1)return t;return s}class ll extends Nr{constructor(){super(...arguments),this.buildTimeColsModel=k(sl),this.buildSlatMetas=k(tl)}render(){let{options:e,dateEnv:t,dateProfileGenerator:r}=this.context,{props:l}=this,{dateProfile:n}=l,a=this.buildTimeColsModel(n,r),o=this.allDaySplitter.splitProps(l),d=this.buildSlatMetas(n.slotMinTime,n.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:c}=e,u=!c,x=c,v=e.dayHeaders&&i(et,{dates:a.headerDates,dateProfile:n,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),p=e.allDaySlot!==!1&&(m=>i(tt,Object.assign({},o.allDay,{dateProfile:n,dayTableModel:a,nextDayThreshold:e.nextDayThreshold,tableMinWidth:m.tableMinWidth,colGroupNode:m.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:m.clientWidth,clientHeight:m.clientHeight,forPrint:l.forPrint},this.getAllDayMaxEventProps()))),y=m=>i(Qr,Object.assign({},o.timed,{dayTableModel:a,dateProfile:n,axis:u,slotDuration:e.slotDuration,slatMetas:d,forPrint:l.forPrint,tableColGroupNode:m.tableColGroupNode,tableMinWidth:m.tableMinWidth,clientWidth:m.clientWidth,clientHeight:m.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:m.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return x?this.renderHScrollLayout(v,p,y,a.colCnt,c,d,this.state.slatCoords):this.renderSimpleLayout(v,p,y)}}function sl(s,e){let t=new nt(s.renderRange,e);return new it(t,!1)}var al='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Fe(al);const nl={allDaySlot:Boolean};var il=ze({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:nl,views:{timeGrid:{component:ll,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});const ye=Pt("calendar",{state:()=>({availableCalendars:[{color:"error",label:"Personal"},{color:"primary",label:"Business"},{color:"warning",label:"Family"},{color:"success",label:"Holiday"},{color:"info",label:"ETC"}],selectedCalendars:["Personal","Business","Family","Holiday","ETC"]}),actions:{async fetchEvents(){const{data:s,error:e}=await Kt(Jt("/apps/calendar",{query:{calendars:this.selectedCalendars}}));return e.value?e.value:s.value},async addEvent(s){await re("/apps/calendar",{method:"POST",body:s})},async updateEvent(s){return await re(`/apps/calendar/${s.id}`,{method:"PUT",body:s})},async removeEvent(s){return await re(`/apps/calendar/${s}`,{method:"DELETE"})}}});var ol={code:"es",week:{dow:1,doy:4},buttonText:{prev:"Ant",next:"Sig",today:"Hoy",year:"Año",month:"Mes",week:"Semana",day:"Día",list:"Agenda"},buttonHints:{prev:"$0 antes",next:"$0 siguiente",today(s){return s==="Día"?"Hoy":(s==="Semana"?"Esta":"Este")+" "+s.toLocaleLowerCase()}},viewHint(s){return"Vista "+(s==="Semana"?"de la":"del")+" "+s.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"Todo el día",moreLinkText:"más",moreLinkHint(s){return`Mostrar ${s} eventos más`},noEventsText:"No hay eventos para mostrar",navLinkHint:"Ir al $0",closeHint:"Cerrar",timeHint:"La hora",eventHint:"Evento"};const Ve={title:"",start:"",end:"",allDay:!1,url:"",extendedProps:{calendar:void 0,guests:[],location:"",description:""}},dl=(s,e,t)=>{const r=It(),l=ye(),n=V(),a={Business:"primary",Holiday:"success",Personal:"error",Family:"warning",ETC:"info"},o=b=>{const{id:w,title:g,start:D,end:E,url:R,extendedProps:{calendar:M,guests:Y,location:X,description:Z},allDay:Q}=b;return{id:w,title:g,start:D,end:E,url:R,extendedProps:{calendar:M,guests:Y,location:X,description:Z},allDay:Q}};typeof process<"u"&&process.server&&l.fetchEvents();const d=(b,w)=>{b&&l.fetchEvents().then(g=>{w(g.map(D=>({...D,start:new Date(D.start),end:new Date(D.end)})))}).catch(g=>{console.error("Error occurred while fetching calendar events",g)})},c=V(null),u=(b,w,g)=>{var E;const D=(E=c.value)==null?void 0:E.getEventById(String(b.id));if(!D){console.warn("Can't found event in calendar to update");return}for(let R=0;R<w.length;R++){const M=w[R];D.setProp(M,b[M])}D.setDates(b.start,b.end,{allDay:b.allDay});for(let R=0;R<g.length;R++){const M=g[R];D.setExtendedProp(M,b.extendedProps[M])}},x=b=>{var g;const w=(g=c.value)==null?void 0:g.getEventById(b);w&&w.remove()},v=()=>{var b;(b=c.value)==null||b.refetchEvents()};K(()=>l.selectedCalendars,v);const p=b=>{l.addEvent(b).then(()=>{v()})},y=b=>{l.updateEvent(b).then(w=>{u(w,["id","title","url"],["calendar","guests","location","description"])}),v()},m=b=>{l.removeEvent(b).then(()=>{x(b)})},f={plugins:[Tt,Nt,il,wr],initialView:"dayGridMonth",headerToolbar:{start:"drawerToggler,prev,next title",end:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},events:d,locale:ol,forceEventDuration:!0,editable:!0,eventResizableFromStart:!0,dragScroll:!0,dayMaxEvents:2,navLinks:!0,eventClassNames({event:b}){const w=a[b._def.extendedProps.calendar];return[`bg-light-${w} text-${w}`]},eventClick({event:b,jsEvent:w}){w.preventDefault(),b.url&&window.open(b.url,"_blank"),s.value=o(b),e.value=!0},dateClick(b){s.value={...s.value,start:b.date},e.value=!0},eventDrop({event:b}){y(o(b))},eventResize({event:b}){b.start&&b.end&&y(o(b))},customButtons:{drawerToggler:{text:"calendarDrawerToggler",click(){t.value=!0}}}};Vt(()=>{c.value=n.value.getApi()});const T=b=>{var w;(w=c.value)==null||w.gotoDate(new Date(b))};return K(()=>r.isAppRTL,b=>{var w;(w=c.value)==null||w.setOption("direction",b?"rtl":"ltr")},{immediate:!0}),{refCalendar:n,calendarOptions:f,refetchEvents:v,fetchEvents:d,addEvent:p,updateEvent:y,removeEvent:m,jumpToDate:T}},cl={__name:"CalendarEventHandler",props:{isDrawerOpen:{type:Boolean,required:!0},event:{type:null,required:!0}},emits:["update:isDrawerOpen","addEvent","updateEvent","removeEvent"],setup(s,{emit:e}){const t=s,r=e,l=ye(),n=V(),a=V(JSON.parse(JSON.stringify(t.event))),o=()=>{a.value=JSON.parse(JSON.stringify(t.event)),De(()=>{var m;(m=n.value)==null||m.resetValidation()})};K(()=>t.isDrawerOpen,o);const d=()=>{r("removeEvent",String(a.value.id)),r("update:isDrawerOpen",!1)},c=()=>{var m;(m=n.value)==null||m.validate().then(({valid:f})=>{f&&("id"in a.value?r("updateEvent",a.value):r("addEvent",a.value),r("update:isDrawerOpen",!1))})},u=[{avatar:zt,name:"Jane Foster"},{avatar:Gt,name:"Donna Frank"},{avatar:Wt,name:"Gabrielle Robertson"},{avatar:Ut,name:"Lori Spears"},{avatar:Bt,name:"Sandy Vega"},{avatar:_t,name:"Cheryl May"}],x=()=>{r("update:isDrawerOpen",!1),De(()=>{var m,f;(m=n.value)==null||m.reset(),o(),(f=n.value)==null||f.resetValidation()})},v=de(()=>{const m={enableTime:!a.value.allDay,dateFormat:`Y-m-d${a.value.allDay?"":" H:i"}`};return a.value.end&&(m.maxDate=a.value.end),m}),p=de(()=>{const m={enableTime:!a.value.allDay,dateFormat:`Y-m-d${a.value.allDay?"":" H:i"}`};return a.value.start&&(m.minDate=a.value.start),m}),y=m=>{r("update:isDrawerOpen",m)};return(m,f)=>{const T=jt("IconBtn"),b=Xt,w=Ae;return F(),j(Be,{temporary:"",location:"end","model-value":t.isDrawerOpen,width:"420",class:"scrollable-content","onUpdate:modelValue":y},{default:C(()=>[S(b,{title:h(a).id?"Update Event":"Add Event",onCancel:f[0]||(f[0]=g=>m.$emit("update:isDrawerOpen",!1))},{beforeClose:C(()=>[we(S(T,{onClick:d},{default:C(()=>[S(te,{size:"18",icon:"ri-delete-bin-7-line"})]),_:1},512),[[Ce,h(a).id]])]),_:1},8,["title"]),S(fe),S(h(Zt),{options:{wheelPropagation:!1}},{default:C(()=>[S(me,{flat:""},{default:C(()=>[S(Qt,null,{default:C(()=>[S(h(er),{ref_key:"refForm",ref:n,onSubmit:At(c,["prevent"])},{default:C(()=>[S(tr,null,{default:C(()=>[S(N,{cols:"12"},{default:C(()=>[S(le,{modelValue:h(a).title,"onUpdate:modelValue":f[1]||(f[1]=g=>h(a).title=g),label:"Title",placeholder:"Meeting with Jane",rules:["requiredValidator"in m?m.requiredValidator:h(B)]},null,8,["modelValue","rules"])]),_:1}),S(N,{cols:"12"},{default:C(()=>[S(ke,{modelValue:h(a).extendedProps.calendar,"onUpdate:modelValue":f[2]||(f[2]=g=>h(a).extendedProps.calendar=g),label:"Label",placeholder:"Select Event Label",rules:["requiredValidator"in m?m.requiredValidator:h(B)],items:h(l).availableCalendars,"item-title":g=>g.label,"item-value":g=>g.label},{selection:C(({item:g})=>[we(I("div",{class:Ot(["align-center",h(a).extendedProps.calendar?"d-flex":""])},[S(te,{size:"8",icon:"ri-circle-fill",color:g.raw.color,class:"me-2"},null,8,["color"]),I("span",null,Ht(g.raw.label),1)],2),[[Ce,h(a).extendedProps.calendar]])]),item:C(({item:g,props:D})=>[S(rr,Lt(Ft(D)),{prepend:C(()=>[S(te,{size:"8",icon:"ri-circle-fill",color:g.raw.color},null,8,["color"])]),_:2},1040)]),_:1},8,["modelValue","rules","items","item-title","item-value"])]),_:1}),S(N,{cols:"12"},{default:C(()=>[(F(),j(w,{key:JSON.stringify(h(v)),modelValue:h(a).start,"onUpdate:modelValue":f[3]||(f[3]=g=>h(a).start=g),rules:["requiredValidator"in m?m.requiredValidator:h(B)],label:"Start date",placeholder:"Select Date",config:h(v)},null,8,["modelValue","rules","config"]))]),_:1}),S(N,{cols:"12"},{default:C(()=>[(F(),j(w,{key:JSON.stringify(h(p)),modelValue:h(a).end,"onUpdate:modelValue":f[4]||(f[4]=g=>h(a).end=g),rules:["requiredValidator"in m?m.requiredValidator:h(B)],label:"End date",placeholder:"Select End Date",config:h(p)},null,8,["modelValue","rules","config"]))]),_:1}),S(N,{cols:"12"},{default:C(()=>[S(lr,{modelValue:h(a).allDay,"onUpdate:modelValue":f[5]||(f[5]=g=>h(a).allDay=g),label:"All day"},null,8,["modelValue"])]),_:1}),S(N,{cols:"12"},{default:C(()=>[S(le,{modelValue:h(a).url,"onUpdate:modelValue":f[6]||(f[6]=g=>h(a).url=g),label:"Event URL",placeholder:"https://event.com/meeting",rules:["urlValidator"in m?m.urlValidator:h(Yt)],type:"url"},null,8,["modelValue","rules"])]),_:1}),S(N,{cols:"12"},{default:C(()=>[S(ke,{modelValue:h(a).extendedProps.guests,"onUpdate:modelValue":f[7]||(f[7]=g=>h(a).extendedProps.guests=g),label:"Guests",placeholder:"Select guests",items:u,"item-title":g=>g.name,"item-value":g=>g.name,chips:"",multiple:"",eager:""},null,8,["modelValue","item-title","item-value"])]),_:1}),S(N,{cols:"12"},{default:C(()=>[S(le,{modelValue:h(a).extendedProps.location,"onUpdate:modelValue":f[8]||(f[8]=g=>h(a).extendedProps.location=g),label:"Location",placeholder:"Meeting room"},null,8,["modelValue"])]),_:1}),S(N,{cols:"12"},{default:C(()=>[S(sr,{modelValue:h(a).extendedProps.description,"onUpdate:modelValue":f[9]||(f[9]=g=>h(a).extendedProps.description=g),label:"Description",placeholder:"Meeting description"},null,8,["modelValue"])]),_:1}),S(N,{cols:"12"},{default:C(()=>[S(ce,{type:"submit",class:"me-3"},{default:C(()=>f[10]||(f[10]=[ue(" Submit ")])),_:1}),S(ce,{variant:"outlined",color:"secondary",onClick:x},{default:C(()=>f[11]||(f[11]=[ue(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},ul={class:"pa-5"},fl={class:"d-flex align-center justify-center pa-2"},ml={class:"pa-5"},pl={class:"d-flex flex-column calendars-checkbox"},gl={__name:"calendar",setup(s){const e=ye(),t=V(structuredClone(Ve)),r=V(!1);K(r,p=>{p||(t.value=structuredClone(Ve))});const{isLeftSidebarOpen:l}=ar(),{refCalendar:n,calendarOptions:a,addEvent:o,updateEvent:d,removeEvent:c,jumpToDate:u}=dl(t,r,l),x=de({get:()=>e.selectedCalendars.length===e.availableCalendars.length,set:p=>{p?e.selectedCalendars=e.availableCalendars.map(y=>y.label):e.selectedCalendars.length===e.availableCalendars.length&&(e.selectedCalendars=[])}}),v=V(null);return(p,y)=>{const m=Ae;return F(),Ee("div",null,[S(me,null,{default:C(()=>[S(nr,{style:{"z-index":"0"}},{default:C(()=>[S(Be,{modelValue:h(l),"onUpdate:modelValue":y[5]||(y[5]=f=>U(l)?l.value=f:null),width:"292",absolute:"",touchless:"",location:"start",class:"calendar-add-event-drawer",temporary:p.$vuetify.display.mdAndDown},{default:C(()=>[I("div",ul,[S(ce,{block:"","prepend-icon":"ri-add-line",onClick:y[0]||(y[0]=f=>r.value=!0)},{default:C(()=>y[7]||(y[7]=[ue(" Add event ")])),_:1})]),S(fe),I("div",fl,[S(m,{modelValue:h(v),"onUpdate:modelValue":[y[1]||(y[1]=f=>U(v)?v.value=f:null),y[2]||(y[2]=f=>h(u)(f))],config:{inline:!0},class:"calendar-date-picker"},null,8,["modelValue"])]),S(fe),I("div",ml,[y[8]||(y[8]=I("h5",{class:"text-h5 mb-4"}," Event Filters ",-1)),I("div",pl,[S(Re,{modelValue:h(x),"onUpdate:modelValue":y[3]||(y[3]=f=>U(x)?x.value=f:null),label:"View all"},null,8,["modelValue"]),(F(!0),Ee(qt,null,$t(h(e).availableCalendars,f=>(F(),j(Re,{key:f.label,modelValue:h(e).selectedCalendars,"onUpdate:modelValue":y[4]||(y[4]=T=>h(e).selectedCalendars=T),value:f.label,color:f.color,label:f.label},null,8,["modelValue","value","color","label"]))),128))])])]),_:1},8,["modelValue","temporary"]),S(ir,null,{default:C(()=>[S(me,{flat:""},{default:C(()=>[S(h(Mt),{ref_key:"refCalendar",ref:n,options:h(a)},null,8,["options"])]),_:1})]),_:1})]),_:1})]),_:1}),S(cl,{isDrawerOpen:h(r),"onUpdate:isDrawerOpen":y[6]||(y[6]=f=>U(r)?r.value=f:null),event:h(t),onAddEvent:h(o),onUpdateEvent:h(d),onRemoveEvent:h(c)},null,8,["isDrawerOpen","event","onAddEvent","onUpdateEvent","onRemoveEvent"])])}}},ls=or(gl,[["__scopeId","data-v-13332a42"]]);export{ls as default};
