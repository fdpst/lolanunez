import{a as L,b as re,f as ce}from"./formatters-zPA0pF4b.js";import{aO as de,a as R,n as e,o as f,c as g,d as a,b as t,e as r,a0 as p,y as k,f as V,x,af as J,v as F,F as U,z as I,a6 as P,aP as ue,ag as $,i as z,L as W,M as X,r as w,aQ as me,w as fe,a3 as he,am as pe,aR as ve,ak as Y,aS as Z}from"./main-BwDGDDDW.js";import{_ as ge}from"./MoreBtn-CBs7kQMV.js";import{P as E}from"./vue3-perfect-scrollbar.esm-BA1GFVP8.js";import{u as Ce}from"./useApi-Cv1dvmBl.js";import{c as be}from"./createUrl-BTFClk8I.js";import{$ as G}from"./api-CjWrXaZL.js";import{V as T}from"./VAvatar-DYn3is-W.js";import{V as B}from"./VImg-BYy41-F9.js";import{V as A}from"./VBadge-CvK_Em4T.js";import{V as ae}from"./VTextField-DqZOZREA.js";import{V as se}from"./VDivider-PVfbuN4-.js";import{V as xe}from"./VTextarea-Ugpn_Hk5.js";import{V as ye,a as _e}from"./VRadioGroup-BjGi94S8.js";import{V as j}from"./VSpacer-xWNtBUsj.js";import{V as ee}from"./VSwitch-CcqgvTMM.js";import{u as Ve,a as $e,V as we}from"./VMain-evknvFaY.js";import{V as q}from"./VNavigationDrawer-DiCpI_FT.js";import{V as ke}from"./VForm-DbaU_ACV.js";import"./helpers-DK5QwNv0.js";import"./VMenu-BWP2lKbi.js";import"./dialog-transition-GiYjLY5n.js";import"./VList-CLtMWoGj.js";import"./ssrBoot-B7QpyNAy.js";import"./index-9rIf2CJL.js";import"./index-D8byVCHt.js";/* empty css                   */import"./VCounter-IA5S7b1U.js";import"./VField-5sqsN37e.js";import"./form-BEvPHhJ7.js";import"./VInput-CVFVwJKu.js";import"./VSelectionControl-D0_t5DTC.js";/* empty css              */const O=()=>({resolveAvatarBadgeVariant:l=>l==="online"?"success":l==="busy"?"error":l==="away"?"warning":"secondary"}),D=de("chat",{state:()=>({contacts:[],chatsContacts:[],profileUser:void 0,activeChat:null}),actions:{async fetchChatsAndContacts(y){const{data:l,error:s}=await Ce(be("/apps/chat/chats-and-contacts",{query:{q:y}}));if(s.value)console.log(s.value);else{const{chatsContacts:u,contacts:v,profileUser:o}=l.value;this.chatsContacts=u,this.contacts=v,this.profileUser=o}},async getChat(y){const l=await G(`/apps/chat/chats/${y}`);this.activeChat=l},async sendMsg(y){var m,i,n,h,c;const l=(m=this.profileUser)==null?void 0:m.id,s=await G(`apps/chat/chats/${(i=this.activeChat)==null?void 0:i.contact.id}`,{method:"POST",body:{message:y,senderId:l}}),{msg:u,chat:v}=s;if(v!==void 0){const S=this.activeChat;this.chatsContacts.push({...S.contact,chat:{id:v.id,lastMessage:[],unseenMsgs:0,messages:[u]}}),this.activeChat&&(this.activeChat.chat={id:v.id,messages:[u],unseenMsgs:0,userId:(n=this.activeChat)==null?void 0:n.contact.id})}else(c=(h=this.activeChat)==null?void 0:h.chat)==null||c.messages.push(u);const o=this.chatsContacts.find(S=>this.activeChat?S.id===this.activeChat.contact.id:!1);o.chat.lastMessage=u}}}),Ue={class:"text-center px-6"},Se={key:1,class:"text-3xl"},Ie={class:"text-h5"},Te={class:"text-body-1 mb-0"},Ae={class:"my-6"},Be={class:"mb-0"},De={class:"mb-6"},Me={class:"d-flex align-center pa-2"},Ne={class:"d-flex align-center pa-2"},ze={class:"d-flex align-center pa-2"},Oe={class:"d-flex align-center pa-2"},Pe={class:"d-flex align-center pa-2"},Le={class:"d-flex align-center pa-2"},Re={class:"d-flex align-center pa-2"},Fe={class:"d-flex align-center pa-2"},Ee={__name:"ChatActiveChatUserProfileSidebarContent",emits:["close"],setup(y,{emit:l}){const s=D(),{resolveAvatarBadgeVariant:u}=O();return(v,o)=>{const m=R("IconBtn");return e(s).activeChat?(f(),g(U,{key:0},[a("div",{class:k(["pt-2 me-2",v.$vuetify.locale.isRtl?"text-left":"text-right"])},[t(m,{onClick:o[0]||(o[0]=i=>v.$emit("close"))},{default:r(()=>[t(p,{icon:"ri-close-line",class:"text-medium-emphasis"})]),_:1})],2),a("div",Ue,[t(A,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:e(u)(e(s).activeChat.contact.status),class:"chat-user-profile-badge mb-4"},{default:r(()=>[t(T,{size:"84",variant:e(s).activeChat.contact.avatar?void 0:"tonal",color:e(s).activeChat.contact.avatar?void 0:e(u)(e(s).activeChat.contact.status)},{default:r(()=>[e(s).activeChat.contact.avatar?(f(),V(B,{key:0,src:e(s).activeChat.contact.avatar},null,8,["src"])):(f(),g("span",Se,x(("avatarText"in v?v.avatarText:e(L))(e(s).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("h5",Ie,x(e(s).activeChat.contact.fullName),1),a("p",Te,x(e(s).activeChat.contact.role),1)]),t(e(E),{class:"ps-chat-user-profile-sidebar-content text-medium-emphasis pb-5 px-5",options:{wheelPropagation:!1}},{default:r(()=>[a("div",Ae,[o[1]||(o[1]=a("p",{for:"textarea-user-about",class:"text-base text-disabled mb-1"}," ABOUT ",-1)),a("p",Be,x(e(s).activeChat.contact.about),1)]),a("div",De,[o[5]||(o[5]=a("p",{class:"text-base text-disabled mb-1"}," PERSONAL INFORMATION ",-1)),a("div",Me,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-mail-line"}),o[2]||(o[2]=a("h6",{class:"text-h6 font-weight-regular"}," lucifer@email.com ",-1))]),a("div",Ne,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-phone-line"}),o[3]||(o[3]=a("h6",{class:"text-h6 font-weight-regular"}," +1(123) 456 - 7890 ",-1))]),a("div",ze,[t(p,{class:"me-2",size:"22",icon:"ri-time-line",color:"high-emphasis"}),o[4]||(o[4]=a("h6",{class:"text-h6 font-weight-regular"}," Mon - Fri 10AM - 8PM ",-1))])]),a("div",null,[o[11]||(o[11]=a("p",{class:"text-base text-disabled mb-1"}," OPTIONS ",-1)),a("div",Oe,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-bookmark-line"}),o[6]||(o[6]=a("h6",{class:"text-h6 font-weight-regular"}," Add Tag ",-1))]),a("div",Pe,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-star-line"}),o[7]||(o[7]=a("h6",{class:"text-h6 font-weight-regular"}," Important Contact ",-1))]),a("div",Le,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-file-image-line"}),o[8]||(o[8]=a("h6",{class:"text-h6 font-weight-regular"}," Shared Media ",-1))]),a("div",Re,[t(p,{icon:"ri-delete-bin-line",size:"22",color:"high-emphasis",class:"me-2"}),o[9]||(o[9]=a("h6",{class:"text-h6 font-weight-regular"}," Delete Contact ",-1))]),a("div",Fe,[t(p,{size:"22",color:"high-emphasis",icon:"ri-forbid-line",class:"me-2"}),o[10]||(o[10]=a("h6",{class:"text-h6 font-weight-regular"}," Block Contact ",-1))])]),t(J,{block:"",color:"error","append-icon":"ri-delete-bin-7-line",class:"mt-12"},{default:r(()=>o[12]||(o[12]=[F(" Delete Contact ")])),_:1})]),_:1})],64)):I("",!0)}}},qe=["data-x"],je={key:1},Je={class:"flex-grow-1 ms-4 overflow-hidden"},He={class:"text-base mb-0"},Qe={class:"d-block text-body-2 text-truncate"},Ke={key:0,class:"d-flex flex-column align-self-start"},We={class:"d-block text-sm text-disabled whitespace-no-wrap"},te={__name:"ChatContact",props:{isChatContact:{type:Boolean,required:!1,default:!1},user:{type:null,required:!0}},setup(y){const l=y,s=D(),{resolveAvatarBadgeVariant:u}=O(),v=P(()=>{var m,i;const o=((m=s.activeChat)==null?void 0:m.contact.id)===l.user.id;return(l.isChatContact||!((i=s.activeChat)!=null&&i.chat))&&o});return(o,m)=>(f(),g("li",{key:e(s).chatsContacts.length,class:k(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":e(v)}]),"data-x":e(s).chatsContacts.length},[t(A,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(u)(l.user.status),bordered:"","model-value":l.isChatContact},{default:r(()=>[t(T,{size:"40",variant:l.user.avatar?void 0:"tonal",color:l.user.avatar?void 0:e(u)(l.user.status)},{default:r(()=>[l.user.avatar?(f(),V(B,{key:0,src:l.user.avatar,alt:"John Doe"},null,8,["src"])):(f(),g("span",je,x(("avatarText"in o?o.avatarText:e(L))(y.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color","model-value"]),a("div",Je,[a("p",He,x(l.user.fullName),1),a("span",Qe,x(l.isChatContact&&"chat"in l.user?l.user.chat.lastMessage.message:l.user.about),1)]),l.isChatContact&&"chat"in l.user?(f(),g("div",Ke,[a("span",We,x(("formatDateToMonthShort"in o?o.formatDateToMonthShort:e(re))(l.user.chat.lastMessage.time)),1),l.user.chat.unseenMsgs?(f(),V(A,{key:0,color:"error",inline:"",content:l.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):I("",!0)])):I("",!0)],10,qe))}},Xe={key:0,class:"chat-list-header gap-4"},Ye={class:"no-chat-items-text text-disabled"},Ze={class:"no-chat-items-text text-disabled"},Ge={__name:"ChatLeftSidebarContent",props:{search:{type:String,required:!0},isDrawerOpen:{type:Boolean,required:!0}},emits:["openChatOfContact","showUserProfile","close","update:search"],setup(y,{emit:l}){const s=y,u=l,{resolveAvatarBadgeVariant:v}=O(),o=ue(s,"search",u),m=D();return(i,n)=>{const h=R("IconBtn");return f(),g(U,null,[e(m).profileUser?(f(),g("div",Xe,[t(A,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(v)(e(m).profileUser.status),bordered:""},{default:r(()=>[t(T,{class:"cursor-pointer",onClick:n[0]||(n[0]=c=>i.$emit("showUserProfile"))},{default:r(()=>[t(B,{src:e(m).profileUser.avatar,alt:"John Doe"},null,8,["src"])]),_:1})]),_:1},8,["color"]),t(ae,{modelValue:e(o),"onUpdate:modelValue":n[1]||(n[1]=c=>$(o)?o.value=c:null),placeholder:"Search...","prepend-inner-icon":"ri-search-line",density:"compact",class:"chat-list-search"},null,8,["modelValue"]),i.$vuetify.display.smAndDown?(f(),V(h,{key:0,onClick:n[2]||(n[2]=c=>i.$emit("close"))},{default:r(()=>[t(p,{icon:"ri-close-line",class:"text-medium-emphasis"})]),_:1})):I("",!0)])):I("",!0),t(se),t(e(E),{tag:"ul",class:"chat-contacts-list px-3 d-flex flex-column gap-1",options:{wheelPropagation:!1}},{default:r(()=>[n[3]||(n[3]=a("li",{class:"list-none"},[a("span",{class:"chat-contact-header d-block text-primary text-lg font-weight-medium"},"Chats")],-1)),(f(!0),g(U,null,z(e(m).chatsContacts,c=>(f(),V(te,{key:`chat-${c.id}`,user:c,"is-chat-contact":"",onClick:S=>i.$emit("openChatOfContact",c.id)},null,8,["user","onClick"]))),128)),W(a("span",Ye,"No chats found",512),[[X,!e(m).chatsContacts.length]]),n[4]||(n[4]=a("li",{class:"list-none"},[a("span",{class:"chat-contact-header d-block text-primary text-lg font-weight-medium"},"Contacts")],-1)),(f(!0),g(U,null,z(e(m).contacts,c=>(f(),V(te,{key:`chat-${c.id}`,user:c,onClick:S=>i.$emit("openChatOfContact",c.id)},null,8,["user","onClick"]))),128)),W(a("span",Ze,"No contacts found",512),[[X,!e(m).contacts.length]])]),_:1})],64)}}},et={class:"chat-log pa-5"},tt={class:"mb-0"},at={class:"text-sm text-disabled mb-0",style:{"letter-spacing":"0.4px"}},st={__name:"ChatLog",setup(y){const l=D(),s=P(()=>{var o,m;return{id:(o=l.activeChat)==null?void 0:o.contact.id,avatar:(m=l.activeChat)==null?void 0:m.contact.avatar}}),u=o=>o.isSeen?{icon:"ri-check-double-line",color:"success"}:o.isDelivered?{icon:"ri-check-double-line",color:void 0}:{icon:"ri-check-line",color:void 0},v=P(()=>{let o=[];const m=[];if(l.activeChat.chat){o=l.activeChat.chat.messages;let i=o[0].senderId,n={senderId:i,messages:[]};o.forEach((h,c)=>{i===h.senderId?n.messages.push({message:h.message,time:h.time,feedback:h.feedback}):(i=h.senderId,m.push(n),n={senderId:h.senderId,messages:[{message:h.message,time:h.time,feedback:h.feedback}]}),c===o.length-1&&m.push(n)})}return m});return(o,m)=>(f(),g("div",et,[(f(!0),g(U,null,z(e(v),(i,n)=>(f(),g("div",{key:i.senderId+String(n),class:k(["chat-group d-flex align-start",[{"flex-row-reverse":i.senderId!==e(s).id,"mb-8":e(v).length-1!==n}]])},[a("div",{class:k(["chat-avatar",i.senderId!==e(s).id?"ms-4":"me-4"])},[t(T,{size:"32"},{default:r(()=>{var h;return[t(B,{src:i.senderId===e(s).id?e(s).avatar:(h=e(l).profileUser)==null?void 0:h.avatar},null,8,["src"])]}),_:2},1024)],2),a("div",{class:k(["chat-body d-inline-flex flex-column",i.senderId!==e(s).id?"align-end":"align-start"])},[(f(!0),g(U,null,z(i.messages,(h,c)=>(f(),g("div",{key:h.time,class:k(["chat-content text-body-1 py-2 px-4 elevation-2",[i.senderId===e(s).id?"bg-surface chat-left":"bg-primary text-white chat-right",i.messages.length-1!==c?"mb-2":"mb-1"]])},[a("p",tt,x(h.message),1)],2))),128)),a("div",{class:k([{"text-right":i.senderId!==e(s).id},"d-flex align-center gap-2"])},[i.senderId!==e(s).id?(f(),V(p,{key:0,size:"16",color:u(i.messages[i.messages.length-1].feedback).color},{default:r(()=>[F(x(u(i.messages[i.messages.length-1].feedback).icon),1)]),_:2},1032,["color"])):I("",!0),a("p",at,x(("formatDate"in o?o.formatDate:e(ce))(i.messages[i.messages.length-1].time,{hour:"numeric",minute:"numeric"})),1)],2)],2)],2))),128))]))}},ot={class:"pt-2 me-2 text-end"},nt={class:"text-center px-6"},lt={key:1,class:"text-3xl"},it={class:"text-h5"},rt={class:"text-body-1 text-capitalize mb-0"},ct={class:"my-6 text-medium-emphasis"},dt={class:"mb-6"},ut={class:"text-medium-emphasis"},mt={class:"d-flex align-center pa-2"},ft={class:"d-flex align-center pa-2"},ht={class:"d-flex align-center pa-2"},pt={class:"d-flex align-center pa-2"},vt={__name:"ChatUserProfileSidebarContent",emits:["close"],setup(y,{emit:l}){const s=D(),{resolveAvatarBadgeVariant:u}=O(),v=[{title:"Online",value:"online",color:"success"},{title:"Away",value:"away",color:"warning"},{title:"Do not disturb",value:"busy",color:"error"},{title:"Offline",value:"offline",color:"secondary"}],o=w(!0),m=w(!1);return(i,n)=>{const h=R("IconBtn");return e(s).profileUser?(f(),g(U,{key:0},[a("div",ot,[t(h,{onClick:n[0]||(n[0]=c=>i.$emit("close"))},{default:r(()=>[t(p,{class:"text-medium-emphasis",icon:"ri-close-line"})]),_:1})]),a("div",nt,[t(A,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:e(u)(e(s).profileUser.status),class:"chat-user-profile-badge mb-4"},{default:r(()=>[t(T,{size:"84",variant:e(s).profileUser.avatar?void 0:"tonal",color:e(s).profileUser.avatar?void 0:e(u)(e(s).profileUser.status)},{default:r(()=>[e(s).profileUser.avatar?(f(),V(B,{key:0,src:e(s).profileUser.avatar},null,8,["src"])):(f(),g("span",lt,x(("avatarText"in i?i.avatarText:e(L))(e(s).profileUser.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("h5",it,x(e(s).profileUser.fullName),1),a("p",rt,x(e(s).profileUser.role),1)]),t(e(E),{class:"ps-chat-user-profile-sidebar-content pb-5 px-5",options:{wheelPropagation:!1}},{default:r(()=>[a("div",ct,[n[5]||(n[5]=a("p",{for:"textarea-user-about",class:"text-base text-disabled mb-0"}," ABOUT ",-1)),t(xe,{id:"textarea-user-about",modelValue:e(s).profileUser.about,"onUpdate:modelValue":n[1]||(n[1]=c=>e(s).profileUser.about=c),"auto-grow":"",class:"mt-1",rows:"3"},null,8,["modelValue"])]),a("div",dt,[n[6]||(n[6]=a("p",{class:"text-base text-disabled mb-0"}," STATUS ",-1)),t(ye,{modelValue:e(s).profileUser.status,"onUpdate:modelValue":n[2]||(n[2]=c=>e(s).profileUser.status=c),class:"ms-2 mt-1"},{default:r(()=>[(f(),g(U,null,z(v,c=>t(_e,{key:c.title,label:c.title,value:c.value,color:c.color},null,8,["label","value","color"])),64))]),_:1},8,["modelValue"])]),a("div",ut,[n[11]||(n[11]=a("p",{class:"text-base text-disabled mb-0"}," SETTINGS ",-1)),a("div",mt,[t(p,{class:"me-2",icon:"ri-lock-password-line",size:"22",color:"high-emphasis"}),n[7]||(n[7]=a("h6",{class:"text-h6 font-weight-regular"}," Two-step Verification ",-1)),t(j),t(ee,{modelValue:e(o),"onUpdate:modelValue":n[3]||(n[3]=c=>$(o)?o.value=c:null)},null,8,["modelValue"])]),a("div",ft,[t(p,{class:"me-2",icon:"ri-notification-line",size:"22",color:"high-emphasis"}),n[8]||(n[8]=a("h6",{class:"text-h6 font-weight-regular"}," Notification ",-1)),t(j),t(ee,{modelValue:e(m),"onUpdate:modelValue":n[4]||(n[4]=c=>$(m)?m.value=c:null)},null,8,["modelValue"])]),a("div",ht,[t(p,{class:"me-2",icon:"ri-user-add-line",size:"22",color:"high-emphasis"}),n[9]||(n[9]=a("h6",{class:"text-h6 font-weight-regular"}," Invite Friends ",-1))]),a("div",pt,[t(p,{class:"me-2",icon:"ri-delete-bin-7-line",size:"22",color:"high-emphasis"}),n[10]||(n[10]=a("h6",{class:"text-h6 font-weight-regular"}," Delete Account ",-1))])]),t(J,{block:"",color:"primary",class:"mt-11","append-icon":"ri-logout-box-r-line"},{default:r(()=>n[12]||(n[12]=[F(" Logout ")])),_:1})]),_:1})],64)):I("",!0)}}},gt={key:0,class:"d-flex flex-column h-100"},Ct={class:"active-chat-header d-flex align-center text-medium-emphasis"},bt={key:1},xt={class:"flex-grow-1 overflow-hidden"},yt={class:"text-h6 font-weight-regular"},_t={class:"text-body-2 text-truncate mb-0"},Vt={class:"d-sm-flex align-center d-none"},$t={key:1,class:"d-flex h-100 align-center justify-center flex-column"},oa={__name:"chat",setup(y){ve(b=>({"7cc6644c":e(le)}));const l=me(),s=D(),{isLeftSidebarOpen:u}=Ve(l.smAndDown),{resolveAvatarBadgeVariant:v}=O(),o=w(),m=()=>{const b=o.value.$el||o.value;b.scrollTop=b.scrollHeight},i=w("");fe(i,b=>s.fetchChatsAndContacts(b),{immediate:!0});const n=()=>{l.mdAndUp.value||(u.value=!0)},h=w(""),c=async()=>{h.value&&(await s.sendMsg(h.value),h.value="",Y(()=>{m()}))},S=async b=>{await s.getChat(b),h.value="";const d=s.chatsContacts.find(_=>_.id===b);d&&(d.chat.unseenMsgs=0),l.smAndDown.value&&(u.value=!1),Y(()=>{m()})},M=w(!1),N=w(!1),H=w(),oe=[{title:"View Contact",value:"View Contact"},{title:"Mute Notifications",value:"Mute Notifications"},{title:"Block Contact",value:"Block Contact"},{title:"Clear Chat",value:"Clear Chat"},{title:"Report",value:"Report"}],{name:ne}=he(),le=P(()=>{var d,_;let b="transparent";return Z&&(b=(_=(d=Z)==null?void 0:d[ne.value].colors)==null?void 0:_["chat-bg"]),b});return(b,d)=>{const _=R("IconBtn"),ie=ge;return f(),V(we,{class:"chat-app-layout bg-surface"},{default:r(()=>[t(q,{modelValue:e(M),"onUpdate:modelValue":d[1]||(d[1]=C=>$(M)?M.value=C:null),temporary:"",touchless:"",absolute:"",class:"user-profile-sidebar",location:"start",width:"370"},{default:r(()=>[t(vt,{onClose:d[0]||(d[0]=C=>M.value=!1)})]),_:1},8,["modelValue"]),t(q,{modelValue:e(N),"onUpdate:modelValue":d[3]||(d[3]=C=>$(N)?N.value=C:null),width:"374",absolute:"",temporary:"",location:"end",touchless:"",class:"active-chat-user-profile-sidebar"},{default:r(()=>[t(Ee,{onClose:d[2]||(d[2]=C=>N.value=!1)})]),_:1},8,["modelValue"]),t(q,{modelValue:e(u),"onUpdate:modelValue":d[8]||(d[8]=C=>$(u)?u.value=C:null),absolute:"",touchless:"",location:"start",width:"370",temporary:b.$vuetify.display.smAndDown,class:"chat-list-sidebar",permanent:b.$vuetify.display.mdAndUp},{default:r(()=>[t(Ge,{isDrawerOpen:e(u),"onUpdate:isDrawerOpen":d[4]||(d[4]=C=>$(u)?u.value=C:null),search:e(i),"onUpdate:search":d[5]||(d[5]=C=>$(i)?i.value=C:null),onOpenChatOfContact:S,onShowUserProfile:d[6]||(d[6]=C=>M.value=!0),onClose:d[7]||(d[7]=C=>u.value=!1)},null,8,["isDrawerOpen","search"])]),_:1},8,["modelValue","temporary","permanent"]),t($e,{class:"chat-content-container"},{default:r(()=>[e(s).activeChat?(f(),g("div",gt,[a("div",Ct,[t(_,{class:"d-md-none me-4",onClick:d[9]||(d[9]=C=>u.value=!0)},{default:r(()=>[t(p,{icon:"ri-menu-line"})]),_:1}),a("div",{class:"d-flex align-center cursor-pointer",onClick:d[10]||(d[10]=C=>N.value=!0)},[t(A,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(v)(e(s).activeChat.contact.status),bordered:"",class:"me-4"},{default:r(()=>[t(T,{size:"40",variant:e(s).activeChat.contact.avatar?void 0:"tonal",color:e(s).activeChat.contact.avatar?void 0:e(v)(e(s).activeChat.contact.status),class:"cursor-pointer"},{default:r(()=>[e(s).activeChat.contact.avatar?(f(),V(B,{key:0,src:e(s).activeChat.contact.avatar,alt:e(s).activeChat.contact.fullName},null,8,["src","alt"])):(f(),g("span",bt,x(("avatarText"in b?b.avatarText:e(L))(e(s).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("div",xt,[a("h6",yt,x(e(s).activeChat.contact.fullName),1),a("p",_t,x(e(s).activeChat.contact.role),1)])]),t(j),a("div",Vt,[t(_,null,{default:r(()=>[t(p,{icon:"ri-phone-line"})]),_:1}),t(_,null,{default:r(()=>[t(p,{icon:"ri-vidicon-line"})]),_:1}),t(_,null,{default:r(()=>[t(p,{icon:"ri-search-line"})]),_:1})]),t(ie,{"menu-list":oe})]),t(se),t(e(E),{ref_key:"chatLogPS",ref:o,tag:"ul",options:{wheelPropagation:!1},class:"flex-grow-1"},{default:r(()=>[t(st)]),_:1},512),t(ke,{class:"chat-log-message-form mb-5 mx-5",onSubmit:pe(c,["prevent"])},{default:r(()=>{var C;return[(f(),V(ae,{key:(C=e(s).activeChat)==null?void 0:C.contact.id,modelValue:e(h),"onUpdate:modelValue":d[12]||(d[12]=Q=>$(h)?h.value=Q:null),variant:"solo",density:"default",class:"chat-message-input",placeholder:"Type your message...",autofocus:""},{"append-inner":r(()=>[t(_,null,{default:r(()=>[t(p,{icon:"ri-mic-line"})]),_:1}),t(_,{class:"me-4",onClick:d[11]||(d[11]=Q=>{var K;return(K=e(H))==null?void 0:K.click()})},{default:r(()=>[t(p,{icon:"ri-attachment-2"})]),_:1}),t(J,{"append-icon":"ri-send-plane-line",onClick:c},{default:r(()=>d[13]||(d[13]=[F(" Send ")])),_:1})]),_:1},8,["modelValue"])),a("input",{ref_key:"refInputEl",ref:H,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:""},null,512)]}),_:1})])):(f(),g("div",$t,[t(T,{size:"98",color:"primary",variant:"tonal",class:"mb-5"},{default:r(()=>[t(p,{size:"50",icon:"ri-wechat-line"})]),_:1}),a("p",{class:k(["mb-0 px-4 py-2 font-weight-medium elevation-2 rounded-xl bg-primary",[{"cursor-pointer":b.$vuetify.display.smAndDown}]]),onClick:n}," Start Conversation ",2)]))]),_:1})]),_:1})}}};export{oa as default};
