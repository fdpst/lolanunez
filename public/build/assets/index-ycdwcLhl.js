import{a as J}from"./formatters-zPA0pF4b.js";import{$ as K}from"./api-DoG2ksOD.js";import{p as W}from"./paginationMeta-BbY5dJ0C.js";import{r as p,at as X,a6 as D,n as a,c as f,b as t,e as o,o as d,F as N,i as Y,y as Z,d as n,x as r,a0 as b,f as C,z as ee,af as P,v as u,ag as g,s as te,a as E}from"./main-XhKa_9tU.js";import{_ as ae}from"./MoreBtn-akTMtnX6.js";import{u as ie}from"./useApi-DcRr_kEa.js";import{c as oe}from"./createUrl-BuKZyWmd.js";import{V as $,b as le}from"./VCard-Eaj0dfV-.js";import{V as F}from"./VCardText-B_O88IhU.js";import{V as ne,a as se}from"./VRow-CFasNknx.js";import{V as B}from"./VAvatar-BgIHgX1n.js";import{V as re}from"./VSpacer-BCVgdAwd.js";import{V as ce}from"./VTextField-DG88OKPn.js";import{V as L}from"./VSelect-BBvcpHuX.js";import{V as de}from"./VDataTableServer-dLSgHCq6.js";import{V as pe}from"./VTooltip-0PvGatbk.js";import{V as ue}from"./VImg-BWevH90G.js";import{V as me}from"./VChip-BBE3Enfq.js";import{V as R}from"./VDivider-C4lH0ooT.js";import"./helpers-DK5QwNv0.js";import"./index-C3NwvUM2.js";import"./index-9rIf2CJL.js";import"./VMenu-D_PRx64v.js";import"./dialog-transition-B2pKVHb-.js";import"./VList-DjfFgeFe.js";import"./ssrBoot-BEJ69UV0.js";/* empty css              *//* empty css                   */import"./VCounter-zOsFyD3o.js";import"./VField-CvyOoNAD.js";import"./form-BsyuclTd.js";import"./VInput-DCf9aRQz.js";import"./VCheckboxBtn-CKjjSpr9.js";import"./VSelectionControl-BXoDVL8N.js";import"./VDataTable-CrfrFXcg.js";import"./VPagination-64W-UBzK.js";import"./VTable-Cb5v_Kut.js";import"./filter-Bi6u83zm.js";const ve={key:0},fe={class:"d-flex justify-space-between"},ge={class:"d-flex flex-column"},_e={class:"text-h4"},he={class:"text-body-1 text-capitalize"},ye={class:"d-flex align-center flex-wrap gap-4"},Ve={class:"invoice-list-search"},xe={class:"invoice-list-search"},be={class:"mb-0"},we={class:"mb-0"},ke={class:"mb-0"},Ie={class:"d-flex align-center"},De={key:1},Ce={class:"d-flex flex-column"},Pe={class:"text-body-2"},$e={key:1,class:"text-h6 font-weight-regular"},Be={class:"text-no-wrap"},Se={class:"d-flex justify-end flex-wrap gap-x-6 px-2 py-1"},ze={class:"d-flex align-center gap-x-2 text-medium-emphasis text-base"},Ue={class:"d-flex align-center text-base text-high-emphasis me-2 mb-0"},Te={class:"d-flex gap-x-2 align-center me-2"},Me={key:1},xt={__name:"index",async setup(Ae){let y,S;const V=p(""),x=p(null),w=p([]),c=p(10),s=p(1),z=p(),U=p(),j=l=>{var i,h;s.value=l.page,z.value=(i=l.sortBy[0])==null?void 0:i.key,U.value=(h=l.sortBy[0])==null?void 0:h.order},k=p([{title:"Clients",value:24,icon:"ri-user-line"},{title:"Invoices",value:165,icon:"ri-pages-line"},{title:"Paid",value:"$2.46k",icon:"ri-wallet-line"},{title:"Unpaid",value:"$876",icon:"ri-money-dollar-circle-line"}]),q=[{title:"#",key:"id"},{title:"Status",key:"trending",sortable:!1},{title:"Client",key:"client"},{title:"Total",key:"total"},{title:"Issued Date",key:"date"},{title:"Balance",key:"balance"},{title:"Actions",key:"actions",sortable:!1}],{data:T,execute:O}=([y,S]=X(()=>ie(oe("/apps/invoice",{query:{q:V,status:x,itemsPerPage:c,page:s,sortBy:z,orderBy:U}}))),y=await y,S(),y),M=D(()=>T.value.invoices),_=D(()=>T.value.totalInvoices),v=(l,i)=>l===i?{status:"Unpaid",chip:{color:"error"}}:l===0?{status:"Paid",chip:{color:"success"}}:{status:l,chip:{variant:"text"}},I=l=>l==="Partial Payment"?{variant:"warning",icon:"ri-line-chart-line"}:l==="Paid"?{variant:"success",icon:"ri-check-line"}:l==="Downloaded"?{variant:"info",icon:"ri-arrow-down-line"}:l==="Draft"?{variant:"secondary",icon:"ri-save-line"}:l==="Sent"?{variant:"primary",icon:"ri-mail-line"}:l==="Past Due"?{variant:"error",icon:"ri-error-warning-line"}:{variant:"secondary",icon:"ri-close-line"},Q=D(()=>l=>[{title:"Download",value:"download",prependIcon:"ri-download-line"},{title:"Edit",value:"edit",prependIcon:"ri-pencil-line",to:{name:"apps-invoice-edit-id",params:{id:l}}},{title:"Duplicate",value:"duplicate",prependIcon:"ri-stack-line"}]),G=async l=>{await K(`/apps/invoice/${l}`,{method:"DELETE"}),O()};return(l,i)=>{const h=E("RouterLink"),A=E("IconBtn"),H=ae;return a(M)?(d(),f("section",ve,[t($,{class:"mb-6"},{default:o(()=>[t(F,{class:"px-2"},{default:o(()=>[t(ne,null,{default:o(()=>[(d(!0),f(N,null,Y(a(k),(e,m)=>(d(),f(N,{key:m},[t(se,{cols:"12",sm:"6",md:"3",class:Z(["px-6",m!==a(k).length-1&&l.$vuetify.display.width<=600?"border-b":""])},{default:o(()=>[n("div",fe,[n("div",ge,[n("h4",_e,r(e.value),1),n("span",he,r(e.title),1)]),t(B,{variant:"tonal",rounded:"",size:"42"},{default:o(()=>[t(b,{icon:e.icon,size:"26",color:"high-emphasis"},null,8,["icon"])]),_:2},1024)])]),_:2},1032,["class"]),(l.$vuetify.display.mdAndUp?m!==a(k).length-1:l.$vuetify.display.smAndUp&&m%2===0)?(d(),C(R,{key:0,vertical:"",inset:""})):ee("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),t($,{id:"invoice-list"},{default:o(()=>[t(F,{class:"d-flex align-center flex-wrap gap-4"},{default:o(()=>[t(P,{"prepend-icon":"ri-add-line",to:{name:"apps-invoice-add"}},{default:o(()=>i[8]||(i[8]=[u(" Create invoice ")])),_:1}),t(re),n("div",ye,[n("div",Ve,[t(ce,{modelValue:a(V),"onUpdate:modelValue":i[0]||(i[0]=e=>g(V)?V.value=e:null),density:"compact",placeholder:"Search Invoice"},null,8,["modelValue"])]),n("div",xe,[t(L,{modelValue:a(x),"onUpdate:modelValue":i[1]||(i[1]=e=>g(x)?x.value=e:null),placeholder:"Invoice Status",clearable:"",density:"compact","clear-icon":"ri-close-line",items:["Downloaded","Draft","Sent","Paid","Partial Payment","Past Due"]},null,8,["modelValue"])])])]),_:1}),t(de,{modelValue:a(w),"onUpdate:modelValue":i[5]||(i[5]=e=>g(w)?w.value=e:null),"items-per-page":a(c),"onUpdate:itemsPerPage":i[6]||(i[6]=e=>g(c)?c.value=e:null),page:a(s),"onUpdate:page":i[7]||(i[7]=e=>g(s)?s.value=e:null),"show-select":"","items-length":a(_),headers:q,items:a(M),"item-value":"id",class:"text-no-wrap rounded-0","onUpdate:options":j},{"item.id":o(({item:e})=>[t(h,{to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:o(()=>[u(" #"+r(e.id),1)]),_:2},1032,["to"])]),"item.trending":o(({item:e})=>[t(pe,null,{activator:o(({props:m})=>[t(B,te({size:28},m,{color:I(e.invoiceStatus).variant,variant:"tonal"}),{default:o(()=>[t(b,{size:16,icon:I(e.invoiceStatus).icon},null,8,["icon"])]),_:2},1040,["color"])]),default:o(()=>[n("p",be,r(e.invoiceStatus),1),n("p",we," Balance: "+r(e.balance),1),n("p",ke," Due date: "+r(e.dueDate),1)]),_:2},1024)]),"item.client":o(({item:e})=>[n("div",Ie,[t(B,{size:"34",color:e.avatar.length?void 0:I(e.invoiceStatus).variant,variant:e.avatar.length?void 0:"tonal",class:"me-3"},{default:o(()=>[e.avatar.length?(d(),C(ue,{key:0,src:e.avatar},null,8,["src"])):(d(),f("span",De,r(("avatarText"in l?l.avatarText:a(J))(e.client.name)),1))]),_:2},1032,["color","variant"]),n("div",Ce,[t(h,{to:{name:"pages-user-profile-tab",params:{tab:"profile"}},class:"text-h6 font-weight-medium mb-0"},{default:o(()=>[u(r(e.client.name),1)]),_:2},1024),n("span",Pe,r(e.client.companyEmail),1)])])]),"item.total":o(({item:e})=>[u(" $"+r(e.total),1)]),"item.date":o(({item:e})=>[u(r(e.issuedDate),1)]),"item.balance":o(({item:e})=>[typeof v(e.balance,e.total).status=="string"?(d(),C(me,{key:0,color:v(e.balance,e.total).chip.color,size:"small"},{default:o(()=>[u(r(v(e.balance,e.total).status),1)]),_:2},1032,["color"])):(d(),f("h6",$e,r(Number(v(e.balance,e.total).status)>0?`$${v(e.balance,e.total).status}`:`-$${Math.abs(Number(v(e.balance,e.total).status))}`),1))]),"item.actions":o(({item:e})=>[n("div",Be,[t(A,{size:"small",onClick:m=>G(e.id)},{default:o(()=>[t(b,{icon:"ri-delete-bin-7-line"})]),_:2},1032,["onClick"]),t(A,{size:"small",to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:o(()=>[t(b,{icon:"ri-eye-line"})]),_:2},1032,["to"]),t(H,{size:"small","menu-list":a(Q)(e.id),"item-props":""},null,8,["menu-list"])])]),bottom:o(()=>[t(R),n("div",Se,[n("div",ze,[i[9]||(i[9]=u(" Filas por pÃ¡gina: ")),t(L,{modelValue:a(c),"onUpdate:modelValue":i[2]||(i[2]=e=>g(c)?c.value=e:null),class:"per-page-select",variant:"plain",items:[10,20,25,50,100]},null,8,["modelValue"])]),n("p",Ue,r(("paginationMeta"in l?l.paginationMeta:a(W))({page:a(s),itemsPerPage:a(c)},a(_))),1),n("div",Te,[t(P,{class:"flip-in-rtl",icon:"ri-arrow-left-s-line",variant:"text",density:"comfortable",color:"high-emphasis",disabled:a(s)<=1,onClick:i[3]||(i[3]=e=>a(s)<=1?s.value=1:s.value--)},null,8,["disabled"]),t(P,{class:"flip-in-rtl",icon:"ri-arrow-right-s-line",density:"comfortable",variant:"text",color:"high-emphasis",disabled:a(s)>=Math.ceil(a(_)/a(c)),onClick:i[4]||(i[4]=e=>a(s)>=Math.ceil(a(_)/a(c))?s.value=Math.ceil(a(_)/a(c)):s.value++)},null,8,["disabled"])])])]),_:1},8,["modelValue","items-per-page","page","items-length","items"])]),_:1})])):(d(),f("section",Me,[t($,null,{default:o(()=>[t(le,null,{default:o(()=>i[10]||(i[10]=[u("No Invoice Found")])),_:1})]),_:1})]))}}};export{xt as default};
