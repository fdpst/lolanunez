import{$ as b}from"./api-DoG2ksOD.js";import{p as h}from"./paginationMeta-BbY5dJ0C.js";import{r as i,I as B,w as k,c as w,b as o,e as l,o as D,d as n,x as c,v as P,n as C,af as f,a0 as x}from"./main-XhKa_9tU.js";import{h as M}from"./moment-C5S46NFB.js";import{V as U}from"./VCard-Eaj0dfV-.js";import{V as T}from"./VCardText-B_O88IhU.js";import{V as Y}from"./VDataTableServer-dLSgHCq6.js";import{V as $}from"./VDivider-C4lH0ooT.js";import{V as E}from"./VSelect-BBvcpHuX.js";import"./index-C3NwvUM2.js";import"./index-9rIf2CJL.js";import"./VAvatar-BgIHgX1n.js";import"./VImg-BWevH90G.js";import"./VDataTable-CrfrFXcg.js";import"./VPagination-64W-UBzK.js";import"./VCheckboxBtn-CKjjSpr9.js";import"./VSelectionControl-BXoDVL8N.js";import"./form-BsyuclTd.js";import"./VTable-Cb5v_Kut.js";import"./filter-Bi6u83zm.js";import"./VTextField-DG88OKPn.js";/* empty css                   */import"./VCounter-zOsFyD3o.js";import"./VField-CvyOoNAD.js";import"./VInput-DCf9aRQz.js";import"./VList-DjfFgeFe.js";import"./ssrBoot-BEJ69UV0.js";import"./dialog-transition-B2pKVHb-.js";import"./VMenu-D_PRx64v.js";import"./VChip-BBE3Enfq.js";const L={class:"text-base"},N={class:"text-base"},S={class:"d-flex justify-end flex-wrap gap-x-6 px-2 py-1"},A={class:"d-flex align-center gap-x-2 text-medium-emphasis text-base"},F={class:"d-flex align-center text-base text-high-emphasis me-2 mb-0"},I={class:"d-flex gap-x-2 align-center me-2"},_e={__name:"index",setup(j){const r=i(10),a=i(1),m=i(),d=i(),u=i(!1),_=s=>{var e,t;a.value=s.page,m.value=(e=s.sortBy[0])==null?void 0:e.key,d.value=(t=s.sortBy[0])==null?void 0:t.order},V=[{title:"Usuario",key:"user_name",sortable:!0},{title:"Fecha de Acceso",key:"access_date",sortable:!0}],v=i([]),p=i(0),y=s=>s?M(s).format("DD/MM/YYYY"):"",g=async()=>{u.value=!0;try{const s=await b("/api/get-logs",{method:"GET",params:{per_page:r.value,page:a.value,sortBy:m.value,orderBy:d.value}});v.value=s,p.value=s.length}catch(s){console.error("Error obteniendo logs:",s)}finally{u.value=!1}};return B(g),k([r,m,d,a],()=>{g()}),(s,e)=>(D(),w("section",null,[o(U,{title:"Logs de Acceso",class:"mb-6"},{default:l(()=>[o(T,null,{default:l(()=>[o(Y,{"items-per-page":r.value,"onUpdate:itemsPerPage":e[3]||(e[3]=t=>r.value=t),page:a.value,"onUpdate:page":e[4]||(e[4]=t=>a.value=t),items:v.value,"item-value":"id","items-length":p.value,headers:V,class:"text-no-wrap rounded-0","onUpdate:options":_,loading:u.value},{"item.user_name":l(({item:t})=>[n("span",L,c(t.user_name),1)]),"item.access_date":l(({item:t})=>[n("span",N,c(y(t.access_date)),1)]),bottom:l(()=>[o($),n("div",S,[n("div",A,[e[5]||(e[5]=P(" Filas por pÃ¡gina: ")),o(E,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),class:"per-page-select",variant:"plain",items:[10,20,25,50,100]},null,8,["modelValue"])]),n("p",F,c(C(h)({page:a.value,itemsPerPage:r.value},p.value)),1),n("div",I,[o(f,{icon:"",variant:"text",density:"compact",disabled:a.value===1,onClick:e[1]||(e[1]=t=>a.value=a.value-1)},{default:l(()=>[o(x,{icon:"ri-arrow-left-s-line"})]),_:1},8,["disabled"]),o(f,{icon:"",variant:"text",density:"compact",disabled:a.value>=Math.ceil(p.value/r.value),onClick:e[2]||(e[2]=t=>a.value=a.value+1)},{default:l(()=>[o(x,{icon:"ri-arrow-right-s-line"})]),_:1},8,["disabled"])])])]),_:1},8,["items-per-page","page","items","items-length","loading"])]),_:1})]),_:1})]))}};export{_e as default};
